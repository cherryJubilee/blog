---
draft: false
authors:
  - hyewon
date: 2024-01-03
categories:
  - Study
  - Web
  - HTTP
---
# HTTP Method
> GET과 POST 이외의 메서드는 보안에 취약한가? HTTP 메서드의 개념과 안전성에 대해 살펴보기
<!-- more -->
## 👀 HTTP Requet Method란?
HTTP(HyperText Transfer Protocol) Request Method는 클라이언트와 서버 간의 통신에서 클라이언트가 웹 서버에게 요청의 목적이나 종류를 알리는 수단이다. 웹에서의 모든 데이터 교환은 HTTP 요청을 통해 이루어지며, 이러한 요청은 특정한 메서드를 사용하여 서버에 전달됩된다.

---
## Method 종류

### 1. GET
- URI 형식으로 웹 서버측 리소스(데이터)를 요청 
    - .../order/book/2132
- 데이터를 검색하는 데 사용되며, 같은 리소스에 대한 GET 요청을 여러번 해도 서버의 데이터(상태)를 변경하지 않는다.  
    - 예를 들어, 웹 페이지나 이미지를 불러올 때 GET 요청이 사용된다.
- 안전한 메서드

### 2. POST
- 클라이언트에서 서버로 전달하고자하는 정보를 request body에 실어서 서버로 전송
- 주로 새 리소스를 생성하거나 데이터를 서버에 제출할 때 사용되며, 서버의 상태를 변경할 수 있다. 
  - 예를들어 사용자가 웹페이지에서 회원가입 폼을 작성하고 제출할 때, 사용자의 정보(이름, 이메일, 비밀번호 등)는 POST 요청의 본문에 담겨 서버로 전송 -> 서버에서 새로운 사용자 계정을 생성 = 서버의 데이터를 변경
- URL에 데이터를 포함시키지 않기 때문에 GET 메서드보다 더 많은 양의 정보를 전송할 수 있고, 데이터가 URL에 노출되지 않아 보안 측면에서도 유리하다. ⭐️  
- 안전하지 않은 메서드

    <br>

    > POST Request Body 형태
      
    - application/x-www-form-urlencoded: 이는 HTML 폼을 통해 데이터를 전송할 때 주로 사용되는 형식입니다. 데이터가 key-value 쌍으로 인코딩되어 전송됩니다.
    - multipart/form-data: 파일 업로드와 같이 큰 데이터 또는 바이너리 데이터를 전송할 때 사용
    - application/json: JSON 형식으로 데이터를 전송할 때 사용되며, 주로 웹 API에서 많이 사용

### 3. PUT
- 서버에 있는 리소스를 새로운 데이터로 대채한다. 즉, 서버의 상태를 변경한다.
    - 예를 들어, 사용자 프로필 정보를 업데이트할 때 PUT 요청을 사용할 수 있다.
- 안전하지 않은 메서드

### 4. DELETE
- 특정 리소스를 삭제하여 데이터의 상태를 변경한다.
    - 사용자가 자신의 계정을 삭제하는 경우 서버의 db에서 해당 데이터 제거한다. 
- 안전하지 않은 메서드

### 5. PATCH
- 리소스의 부분적인 변경을 위해 사용한다. 
    -  사용자의 정보 중 이메일 주소만 변경하는 경우
- PUT과 차이점: 전체 리소스를 대체하지 않고 일부만 수정한다.
- 안전하지 않은 메서드

### 6. TRACE
- 클라이언트의 요청이 서버에 도달하는 과정을 추적하는 데 사용됩니다. 이는 주로 진단 목적으로 사용됩니다.
- 안전하지 않은 메서드

### 7. OPTIONS
- 서버가 지원하는 HTTP 메서드를 조회할 때 사용한다.
- 주로 CORS(Cross-Origin Resource Sharing) 시나리오에서 중요하다.
- 안전한 메서드

### 8. CONNECT
- 터널링 프로토콜(예: SSL 터널링)을 사용할 때 사용됩니다.
- 안전하지 않은 메서드

---
## ✏️ Method의 안전성

1. 안전한 메서드  
: 서버의 데이터를 변경하지 않는 메서드  
2. 안전하지 않은 메서드   
: 서버의 데이터를 변경할 수 있는 메서드

| HTTP 메서드 | 안전한 메서드 | 안전하지 않은 메서드 |
|:-----------:|:------------:|:-----------------:|
| GET         |      O       |         X         |
| POST        |      X       |         O         |
| PUT         |      X       |         O         |
| DELETE      |      X       |         O         |
| PATCH       |      X       |         O         |
| HEAD        |      O       |         X         |
| OPTION      |      O       |         X         |


---
## 🛠️ GET,POST 이외는 보안이 취약하다?
[정보통신기술용어해설]에 따르면 보안상의 이유로, 대부분의 웹서버가, GET,POST 2개 또는 OPTIONS 포함 3개 만을 허용하는 경우가 일반적이라고 한다.   
보안에서 중요한 것은 메서드 자체보다는 사용 방법, 데이터의 민감성, 그리고 API의 설계와 보안 조치이다.  

1. HTTP 메서드의 사용 방법  
    - 중요한 데이터를 GET 요청의 URL 파라미터로 전송하는 것은 데이터가 로그나 웹 브라우저의 기록에 남을 수 있기 때문에 안전하지 않다. 반면, POST, PUT, DELETE 같은 메서드는 HTTP 본문을 통해 데이터를 전송하기 때문에, 이러한 정보 노출 위험을 줄일 수 있다.

2. 전송되는 데이터의 민감성  
    - 개인 식별 정보나 금융 정보와 같은 민감한 데이터는 암호화되어야 합니다. 이러한 데이터를 처리할 때는 HTTPS와 같은 보안 프로토콜을 사용해야 한다.

3. API 설계와 보안 조치 (?)  
    - 적절한 인증 및 권한 부여 메커니즘의 부재는 어떤 HTTP 메서드를 사용하든지 간에 보안 취약점을 초래할 수 있습니다. 또한, SQL 인젝션, 크로스 사이트 스크립팅(XSS) 등과 같은 일반적인 웹 보안 위협에 대응하는 것도 중요하다.


<br>
<br>
<br>
<br>
<br>