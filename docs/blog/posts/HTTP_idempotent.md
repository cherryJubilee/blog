---
draft: false
authors:
  - hyewon
date: 2024-01-03
categories:
  - Study
  - Web
  - HTTP
---
# HTTP 멱등성
<!-- more -->
## 멱등성(Idempotency)이란?
프로그래밍과 수학에서 널리 사용되는 개념으로 연산을 여러 번 적용하더라도 결과가 달라지지 않는 성질을 의미한다.

## HTTP 메서드의 멱등성
HTTP 메서드가 멱등하다는 것은, 동일한 요청을 여러번 보내도 서버의 상태가 첫 번째 요청 이후에는 변하지 않는다는 것을 의미한다.
서버의 상태에 변경을 일으킬 수도 있지만, 동일한 요청을 여러 번 수행해도 최종적으로 서버의 상태가 동일하다는 것이다.  
즉 멱등성은 <span style="background-color:#fff5b1">서버의 상태가 "최종적으로" 어떻게 변화하는지</span>에 초점을 맞춥니다. 첫 번째 요청에서 변화가 있을 수 있지만, 동일한 요청을 반복했을 때 추가적인 변화가 없으면 그 메서드는 멱등한 것으로 간주된다.

## 멱등성 예

| HTTP 메서드 | 멱등성이 있는 메서드 | 멱등성이 없는 메서드 |
|:-----------:|:-----------------:|:-----------------:|
| GET         |         O         |         X         |
| POST        |         X         |         O         |
| PUT         |         O         |         X         |
| DELETE      |         O         |         X         |
| PATCH       |         X         |         O         |
| HEAD        |         O         |         X         |
| OPTION      |         O         |         X         |


  
### ⭕️ 멱등한 HTTP 메서드

1. **GET**
    - 서버의 데이터를 읽기만 하므로, 요청을 반복해도 서버의 상태에 변화가 없다.
    - [예시] 사용자 프로필 페이지를 여러 번 조회하더라도 서버의 데이터는 변하지 않는다.
2. **PUT**
    - 동일한 리소스에 대한 PUT 요청을 여러 번 수행해도, 서버의 해당 리소스 상태는 마지막 PUT 요청의 상태를 반영한다.  
    - [예시] 사용자의 이메일 주소를 동일한 값으로 여러 번 업데이트해도 결과는 동일하게 유지된다.
3. **DELETE**
    - 한 번 삭제된 리소스에 대해 DELETE 요청을 반복해도, 리소스는 이미 삭제된 상태이므로 서버의 상태가 변하지 않는다.
    - [예시] 특정 게시글을 삭제한 후, 같은 DELETE 요청을 다시 보내도 게시글은 이미 삭제된 상태이므로 추가적인 변화는 없다.
4. **OPTION**
    - OPTION 메서드는 서버가 지원하는 메서드를 조회하는 데 사용되며, 서버의 상태를 변경하지 않는다.
    - [예시] 웹서버가 지원하는 HTTP 메서드를 여러 번 조회해도 서버의 상태는 변하지 않는다.

### ❌ 멱등하지 않은 HTTP 메서드
1. **POST**  
    - POST 메서드는 서버에 새로운 리소스를 생성한다. 동일한 POST 요청을 여러 번 수행하면, 서버에 같은 데이터의 복사본이 여러 개 생성될 수 있다. 따라서 POST는 멱등하지 않다.     
    - [예시] 같은 내용의 댓글(동일한 요청)을 다시 서버에 보내면 서버는 이 요청을 새로운 댓글로 인식하고, 데이터베이스에 또 다른 댓글로 저장하게 된다.

2. **PATCH**
    - PATCH 메서드는 리소스의 일부를 수정합니다. 같은 PATCH 요청을 여러 번 수행하면, 각 요청이 서버의 상태에 영향을 미칠 수 있다.
    - [예시] 사용자의 프로필 설명을 같은 내용으로 여러 번 수정하면, 각 요청마다 서버의 데이터가 갱신된다.

<br>
<br>
<br>
<br>
<br>