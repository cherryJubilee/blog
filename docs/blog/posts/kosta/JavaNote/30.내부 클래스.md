---
draft: false
authors:
    - hyewon
date: 2024-06-13
categories:
    - java
---

# μ¤‘μ²©ν΄λμ¤

> λ‚΄λ¶€ ν΄λμ¤, μ§€μ—­ ν΄λμ¤, μ •μ  μ¤‘μ²© ν΄λμ¤, μµλ… ν΄λμ¤

<!-- more -->

## π’΅ μ„λ΅ 

1. ν΄λμ¤ λ‚΄λ¶€
    - ν•„λ“, λ©”μ„λ“, μƒμ„±μ
    - μ΄λ„ ν΄λμ¤, μ΄λ„ μΈν„°νμ΄μ¤
2. Inner Class
    - ν΄λμ¤ λ‚΄λ¶€μ— μ„ μ–Έν• ν΄λμ¤
    - λ€κ° μ΄ μ΄λ„ν΄λμ¤μ™€ μ™Έλ¶€ ν΄λμ¤κ°€ λ°€μ ‘ν• κ΄€λ ¨μ΄ μκΈ° λ•λ¬Έ

## π’΅ μ΄λ„ν΄λμ¤

1. ν΄λμ¤ λ‚΄λ¶€μ— ν¬ν•¨λλ” μ΄λ„ν΄λμ¤(inner class)
2. μΆ…λ¥
    - μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤
    - μ •μ  λ‚΄λ¶€ ν΄λμ¤
    - μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤
    - μµλ… λ‚΄λ¶€ ν΄λμ¤

```java
class A { // μ•„μ°ν„° ν΄λμ¤

    class B { // μΈμ¤ν„΄μ¤ μ΄λ„ν΄λμ¤

    }

    static class C {  // μ •μ  μ΄λ„ ν΄λμ¤

    }
    void() {   // μ§€μ—­ (μ΄λ„)ν΄λμ¤
        class D {

        }
    }

}
```

1. λ³€μ μ ν•κ³Ό λ‚΄λ¶€ ν΄λμ¤ μ ν• λΉ„κµν•κΈ°

    ```java
    class ABC{
     int n1;  // μΈμ¤ν„΄μ¤ λ³€μ
     static int n2; // μ •μ λ³€μ
    }

    class ABC {  // μ™Έλ¶€ ν΄λμ¤
        class In { // μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤
            static class SIn {  // μ •μ  λ‚΄λ¶€ ν΄λμ¤

            }

        }

    }
    ```

2. κ°μ²΄ μƒμ„±ν•κΈ°

-   λ¨Όμ € μ•„μ°ν„° ν΄λμ¤μ κ°μ²΄λ¥Ό μƒμ„±
-   μ΄ν›„ μƒμ„±ν• μ•„μ°ν„° ν΄λμ¤ κ°μ²΄μ μ°Έμ΅° λ³€μλ¥Ό μ΄μ©ν•΄ κ°μ²΄ λ‚΄λ¶€μ— μλ” μ΄λ„ ν΄λμ¤μ μƒμ„±μ νΈμ¶ν•¨
-   λ¬Έλ²•

    ```java
    μ•„μ›ƒ ν΄λμ¤ μ•„μ›ƒ ν΄λμ¤ μ°Έμ΅° λ³€μ = new μ•„μ›ƒ ν΄λμ¤();
    μ•„μ›ƒ ν΄λμ¤.μ΄λ„ ν΄λμ¤ μ΄λ„ ν΄λμ¤ μ°Έμ΅° λ³€μ =  μ•„μ›ƒ ν΄λμ¤ μ°Έμ΅° λ³€μ.new μ΄λ„ ν΄λμ¤();


    class A{  // μ•„μ°ν„° ν΄λμ¤
        class B { // μ΄λ„ ν΄λμ¤

        }
    }

    A a = new A();
    A.B b = new a.B();
    ```

## 5. μ •μ  λ‚΄λ¶€ ν΄λμ¤ λ©”μ„λ“

|                                  | μΌλ° λ©”μ„λ“ μ‚¬μ© κ°€λ¥ μ—¬λ¶€ | μ •μ  λ©”μ„λ“ μ‚¬μ© κ°€λ¥ μ—¬λ¶€ |
| -------------------------------- | -------------------------- | -------------------------- |
| μ™Έλ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ      | x                          | x                          |
| μ™Έλ¶€ ν΄λμ¤μ μ •μ  λ³€μ          | o                          | o                          |
| μ •μ  λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ | o                          | x                          |
| μ •μ  λ‚΄λ¶€ ν΄λμ¤μ μ •μ  λ³€μ     | o                          | o                          |

## 6. μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤

### π€ μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤ μμ 

<details>
<summary> [λ‚΄λ¶€] μ§€μ—­ ν΄λμ¤ μμ  </summary>

```java
package kr.co.kosta3;


class Outer {

	int outNum = 100;
	static int sNum = 200;

	Runnable getRunnable(int i ) {
		int num = 100;   // μ§€μ—­ λ³€μ


		class MyRunnable implements Runnable {  // λ΅μ»¬ μ΄λ„ ν΄λμ¤

			int localNum = 10 ; // μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ

			@Override
			public void run() {
				// i = 10; λ§¤κ°λ³€μλ” μƒμλ΅ λ°”λ€λ―€λ΅ κ°’μ„λ³€κ²½ν•  μ μ—†μ
				//num = 11; μ§€μ—­λ³€μλ”  μƒμλ΅ λ°”λ€λ―€λ΅ κ°’μ„λ³€κ²½ν•  μ μ—†μ
				System.out.println("λ§¤κ°λ³€μ" + i);
				System.out.println("μ§€μ—­λ³€μ" + num);
				System.out.println("μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ" + localNum);
				System.out.println("μ™Έλ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ" + outNum);
				System.out.println("μ™Έλ¶€ ν΄λμ¤μ μ •μ  λ³€μ"  + sNum);
			}
		}
		return new MyRunnable();
	}
}

public class localInnerTest {

	public static void main(String[] args) {

		 Outer outer = new Outer();
		 Runnable runnable = outer.getRunnable(100); // λ©”μ„λ“ νΈμ¶
		 runnable.run();
	}
}

```

```bash
λ§¤κ°λ³€μ100
μ§€μ—­λ³€μ100
μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ10
μ™Έλ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ100
μ™Έλ¶€ ν΄λμ¤μ μ •μ  λ³€μ200
```

</details>

## π“ μµλ… λ‚΄λ¶€ ν΄λμ¤

-   ν΄λμ¤ μ΄λ¦„μ„ μ‚¬μ©ν•μ§€ μ•λ” ν΄λμ¤
-   μ΄λ¦„μ΄ μ—†λ” ν΄λμ¤
    -   μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ MyRunnable ν΄λμ¤ μ΄λ¦„μ€ μ‹¤μ λ΅ νΈμ¶λλ” κ²½μ°κ°€ μ—†μ
-   ν΄λμ¤μ μ΄λ¦„μ„ μƒλµν•κ³  μ£Όλ΅ ν•λ‚μ μΈν„°νμ΄μ¤λ‚ ν•λ‚μ μ¶”μƒν΄λμ¤λ¥Ό κµ¬ν„ν•μ—¬ λ°ν™
-   μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤ μλ£ν•μ λ³€μμ— μ§μ ‘ λ€μ…ν•μ—¬ ν΄λμ¤λ¥Ό μƒμ„±ν•κ±°λ‚ μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ λ©”μ„λ“ λ‚΄λ¶€μ—μ„ μƒμ„±ν•μ—¬ λ°ν™ν•  μ μμ
-   widgetμ μ΄λ²¤νΈ ν•Έλ“¤λ¬μ— ν™μ©λ¨.
-   μ§€μ—­ν΄λμ¤μ μƒμ„±κ³Ό μ‚¬μ©μ„ ν• λ²μ— μν–‰ν•λ‹¤.
    ```java
      Printer printer = new Printer(){
       //body
    }
    ```

### `new Printer() {body}`

-   μµλ… ν΄λμ¤λ” ν΄λμ¤μ λ³Έλ¬Έ(body)μ„ μ •μν•λ©΄μ„ λ™μ‹μ— μƒμ„±ν•λ‹¤. `new` λ‹¤μμ— λ°”λ΅ μƒμ† λ°›μΌλ©΄μ„ κµ¬ν„ ν•  λ¶€λ¨ νƒ€μ…μ„ μ…λ ¥ν•λ©΄ λλ‹¤.
-   `{body}` λ¶€λ¶„μ— `Printer` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μ½”λ“λ¥Ό μ‘μ„±
    -   μµλ… ν΄λμ¤μ λ³Έλ¬Έ
-   β­οΈ `Printer` λ¥Ό μƒμ†(κµ¬ν„) ν•λ©΄μ„ λ°”λ΅ μƒμ„±ν•λ” κ²ƒ

### μµλ… ν΄λμ¤ νΉμ§•

1. μµλ… ν΄λμ¤λ” μ΄λ¦„ μ—†λ” μ§€μ—­ ν΄λμ¤λ¥Ό μ„ μ–Έν•λ©΄μ„ λ™μ‹μ— μƒμ„±ν•λ‹¤.
2. μµλ… ν΄λμ¤λ” λ¶€λ¨ ν΄λμ¤λ¥Ό μƒμ† λ°›κ±°λ‚, λλ” μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤. μµλ… ν΄λμ¤λ¥Ό μ‚¬μ©ν•  λ•λ” μƒμ„ ν΄ λμ¤λ‚ μΈν„°νμ΄μ¤κ°€ ν•„μ”ν•λ‹¤.
3. μµλ… ν΄λμ¤λ” λ§ κ·Έλ€λ΅ μ΄λ¦„μ΄ μ—†λ‹¤. μ΄λ¦„μ„ κ°€μ§€μ§€ μ•μΌλ―€λ΅, μƒμ„±μλ¥Ό κ°€μ§ μ μ—†λ‹¤. (κΈ°λ³Έ μƒμ„±μλ§ μ‚¬μ©λ¨) μµλ… ν΄λμ¤λ” `AnonymousOuter$1` κ³Ό κ°™μ΄ μλ°” λ‚΄λ¶€μ—μ„ λ°”κΉ¥ ν΄λμ¤ μ΄λ¦„ + `$` + μ«μλ΅ μ •μλλ‹¤. μµλ… ν΄ λμ¤κ°€ μ—¬λ¬κ°λ©΄ `$1` , `$2` , `$3` μΌλ΅ μ«μκ°€ μ¦κ°€ν•λ©΄μ„ κµ¬λ¶„λλ‹¤.

### μµλ… ν΄λμ¤ μ¥λ‹¨μ 

1. `μ¥μ `: μµλ… ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ©΄ ν΄λμ¤λ¥Ό λ³„λ„λ΅ μ •μν•μ§€ μ•κ³ λ„ μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤λ¥Ό μ¦‰μ„μ—μ„ κµ¬ν„ν•  μ μμ–΄ μ½”λ“ κ°€ λ” κ°„κ²°ν•΄μ§„λ‹¤. ν•μ§€λ§, λ³µμ΅ν•κ±°λ‚ μ¬μ‚¬μ©μ΄ ν•„μ”ν• κ²½μ°μ—λ” λ³„λ„μ ν΄λμ¤λ¥Ό μ •μν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
2. `λ‹¨μ `: μµλ… ν΄λμ¤λ” λ‹¨ ν• λ²λ§ μΈμ¤ν„΄μ¤λ¥Ό μƒμƒν•  μ μλ‹¤. λ‹¤μκ³Ό κ°™μ΄ μ—¬λ¬ λ² μƒμ„±μ΄ ν•„μ”ν•λ‹¤λ©΄ μµλ… ν΄λμ¤λ¥Ό μ‚¬μ©ν•  μ μ—†λ‹¤. λ€μ‹ μ— μ§€μ—­ ν΄λμ¤λ¥Ό μ„ μ–Έν•κ³  μ‚¬μ©ν•λ©΄ λλ‹¤.

    ```java
    Printer printer1 = new LocalPrinter();
    printer1.print();
    Printer printer2 = new LocalPrinter();
    printer2.print();
    ```

### π€ μµλ… ν΄λμ¤ μμ 

> μµλ… ν΄λμ¤ μ‚¬μ©

```java
public class AnonymousOuter {
     private int outInstanceVar = 3;
     public void process(int paramVar) {
         int localVar = 1;
         Printer printer = new Printer() {
int value = 0;
             @Override
             public void print() {
                 System.out.println("value=" + value);
                 System.out.println("localVar=" + localVar);
                 System.out.println("paramVar=" + paramVar);
                 System.out.println("outInstanceVar=" + outInstanceVar);
}
  };
         printer.print();
         System.out.println("printer.class=" + printer.getClass());
}
     public static void main(String[] args) {
         AnonymousOuter main = new AnonymousOuter();
         main.process(2);
} }
```

### π› οΈ μµλ…ν΄λμ¤ μ •λ¦¬

-   μµλ… ν΄λμ¤λ” μ΄λ¦„μ΄ μ—†λ” μ§€μ—­ ν΄λμ¤μ΄λ‹¤.
-   νΉμ • λ¶€λ¨ ν΄λμ¤(μΈν„°νμ΄μ¤)λ¥Ό μƒμ† λ°›κ³  λ°”λ΅ μƒμ„±ν•λ” κ²½μ° μ‚¬μ©ν•λ‹¤.
-   μ§€μ—­ ν΄λμ¤κ°€ μΌνμ„±μΌλ΅ μ‚¬μ©λλ” κ²½μ°λ‚ κ°„λ‹¨ν• κµ¬ν„μ„ μ κ³µν•  λ• μ‚¬μ©ν•λ‹¤.

## π“ λ‚΄λ¶€ν΄λμ¤ μ •λ¦¬

|         μΆ…λ¥         |               κµ¬ν„ μ„μΉ               |  μ‚¬μ©ν•  μ μλ” μ™Έλ¶€ ν΄λμ¤ λ³€μ   |                                    μƒμ„± λ°©λ²•                                     |
| :------------------: | :-----------------------------------: | :--------------------------------: | :------------------------------------------------------------------------------: |
| μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤ |     μ™Έλ¶€ ν΄λμ¤ λ©¤λ²„ λ³€μμ™€ λ™μΌ      | μ™Έλ¶€ μΈμ¤ν„΄μ¤ λ³€μ, μ™Έλ¶€ μ „μ—­ λ³€μ |                    μ™Έλ¶€ν΄λμ¤λ¥Ό λ¨Όμ € λ§λ“  ν›„ λ‚΄λ¶€ν΄λμ¤ μƒμ„±                     |
|   μ •μ  λ‚΄λ¶€ ν΄λμ¤   |     μ™Έλ¶€ ν΄λμ¤ λ©¤λ²„ λ³€μμ™€ λ™μΌ      |           μ™Έλ¶€ μ „μ—­ λ³€μ           |                            μ™Έλ¶€ν΄λμ¤μ™€ λ¬΄κ΄€ν•κ² μƒμ„±                            |
|   μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤   |              λ©”μ„λ“ λ‚΄λ¶€              | μ™Έλ¶€ μ „μ—­ λ³€μ, μ™Έλ¶€ μΈμ¤ν„΄μ¤ λ³€μ |                              λ©”μ„λ“ νΈμ¶ν•  λ• μƒμ„±                               |
|   μµλ… λ‚΄λ¶€ ν΄λμ¤   | λ©”μ„λ“ λ‚΄λ¶€ λ³€μμ— λ€μ…ν•μ—¬ μ§μ ‘ κµ¬ν„ | μ™Έλ¶€ μ „μ—­ λ³€μ, μ™Έλ¶€ μΈμ¤ν„΄μ¤ λ³€μ | λ©”μ„λ“, νΈμ¶ν•  λ• μƒμ„±, μΈν„°νμ΄μ¤ νƒ€μ…μ— λ€μ…ν•  λ³€μ new μ—°μ‚°μλ¥Ό μ‚¬μ©ν•΄μ„ μƒμ„± |
