---
draft: false
authors:
    - hyewon
date: 2024-06-13
categories:
    - java
---

# 내부 클래스

> 내부 클래스

<!-- more -->

## 💡 서론

1. 클래스 내부
    - 필드, 메서드, 생성자
    - 이너 클래스, 이너 인터페이스
2. Inner Class
    - 클래스 내부에 선언한 클래스
    - 대개 이 이너클래스와 외부 클래스가 밀접한 관련이 있기 때문

## 💡 이너클래스

1. 클래스 내부에 포함되는 이너클래스(inner class)
2. 종류
    - 인스턴스 내부 클래스
    - 정적 내부 클래스
    - 지역 내부 클래스
    - 익명 내부 클래스

```java
class A { // 아우터 클래스

    class B { // 인스턴스 이너클래스

    }

    static class C {  // 정적 이너 클래스

    }
    void() {   // 지역 (이너)클래스
        class D {

        }
    }

}
```

1. 변수 유형과 내부 클래스 유형 비교하기

    ```java
    class ABC{
     int n1;  // 인스턴스 변수
     static int n2; // 정적변수
    }

    class ABC {  // 외부 클래스
        class In { // 인스턴스 내부 클래스
            static class SIn {  // 정적 내부 클래스

            }

        }

    }
    ```

2. 객체 생성하기

-   먼저 아우터 클래스의 객체를 생성
-   이후 생성한 아우터 클래스 객체의 참조 변수를 이용해 객체 내부에 있는 이너 클래스의 생성자 호출함
-   문법

    ```java
    아웃 클래스 아웃 클래스 참조 변수 = new 아웃 클래스();
    아웃 클래스.이너 클래스 이너 클래스 참조 변수 =  아웃 클래스 참조 변수.new 이너 클래스();


    class A{  // 아우터 클래스
        class B { // 이너 클래스

        }
    }

    A a = new A();
    A.B b = new a.B();
    ```

## 5. 정적 내부 클래스 메서드

|                                  | 일반 메서드 사용 가능 여부 | 정적 메서드 사용 가능 여부 |
| -------------------------------- | -------------------------- | -------------------------- |
| 외부 클래스의 인스턴스 변수      | x                          | x                          |
| 외부 클래스의 정적 변수          | o                          | o                          |
| 정적 내부 클래스의 인스턴스 변수 | o                          | x                          |
| 정적 내부 클래스의 정적 변수     | o                          | o                          |

## 6. 지역 내부 클래스

### 🍀 지역 내부 클래스 예제

<details>
<summary> [내부] 지역 클래스 예제 </summary>

```java
package kr.co.kosta3;


class Outer {

	int outNum = 100;
	static int sNum = 200;

	Runnable getRunnable(int i ) {
		int num = 100;   // 지역 변수


		class MyRunnable implements Runnable {  // 로컬 이너 클래스

			int localNum = 10 ; // 지역 내부 클래스의 인스턴스 변수

			@Override
			public void run() {
				// i = 10; 매개변수는 상수로 바뀌므로 값을변경할 수 없음
				//num = 11; 지역변수는  상수로 바뀌므로 값을변경할 수 없음
				System.out.println("매개변수" + i);
				System.out.println("지역변수" + num);
				System.out.println("지역 내부 클래스의 인스턴스 변수" + localNum);
				System.out.println("외부 클래스의 인스턴스 변수" + outNum);
				System.out.println("외부 클래스의 정적 변수"  + sNum);
			}
		}
		return new MyRunnable();
	}
}

public class localInnerTest {

	public static void main(String[] args) {

		 Outer outer = new Outer();
		 Runnable runnable = outer.getRunnable(100); // 메서드 호출
		 runnable.run();
	}
}

```

```bash
매개변수100
지역변수100
지역 내부 클래스의 인스턴스 변수10
외부 클래스의 인스턴스 변수100
외부 클래스의 정적 변수200
```

</details>

## 7. 익명 내부 클래스

-   클래스 이름을 사용하지 않는 클래스
-   이름이 없는 클래스
    -   지역 내부 클래스의 MyRunnable 클래스 이름은 실제로 호출되는 경우가 없음
-   클래스의 이름을 생략하고 주로 하나의 인터페이스나 하나의 추상클래스를 구현하여 반환
-   인터페이스나 추상 클래스 자료형의 변수에 직접 대입하여 클래스를 생성하거나 지역 내부 클래스의 메서드 내부에서 생성하여 반환할 수 있음
-   widget의 이벤트 핸들러에 활용됨.

## 📌 내부클래스 정리

|         종류         |               구현 위치               |  사용할 수 있는 외부 클래스 변수   |                                    생성 방법                                     |
| :------------------: | :-----------------------------------: | :--------------------------------: | :------------------------------------------------------------------------------: |
| 인스턴스 내부 클래스 |     외부 클래스 멤버 변수와 동일      | 외부 인스턴스 변수, 외부 전역 변수 |                    외부클래스를 먼저 만든 후 내부클래스 생성                     |
|   정적 내부 클래스   |     외부 클래스 멤버 변수와 동일      |           외부 전역 변수           |                            외부클래스와 무관하게 생성                            |
|   지역 내부 클래스   |              메서드 내부              | 외부 전역 변수, 외부 인스턴스 변수 |                              메서드 호출할 때 생성                               |
|   익명 내부 클래스   | 메서드 내부 변수에 대입하여 직접 구현 | 외부 전역 변수, 외부 인스턴스 변수 | 메서드, 호출할 때 생성, 인터페이스 타입에 대입할 변수 new 연산자를 사용해서 생성 |
