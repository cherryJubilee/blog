---
draft: false
authors:
    - hyewon
date: 2024-06-21
categories:
    - java
---

# Thread

> Thread

<!-- more -->

## ğŸ Thread

1. Process
    - ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œê·¸ë¨
    - í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ OSë¡œ ë¶€í„° ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ì•„ í”„ë¡œì„¸ìŠ¤ ìƒíƒœê°€ ë¨
2. Thread

    - í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ëŠ” í•˜ë‚˜ ì´ìƒì˜ threadë¥¼ ê°€ì§€ê²Œ ë¨.
    - ì‹¤ì œ ì‘ì—…(task)ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë‹¨ìœ„ëŠ” threadì„.
    -

## ğŸ Thread ìƒì„± ë°©ë²• 2ê°€ì§€

### 1ï¸âƒ£ Thread í´ë˜ìŠ¤ ìƒì†

<details>
<summary>Thread ë§Œë“¤ê¸° - Thread í´ë˜ìŠ¤ ìƒì† </summary>

```java
package kr.co.kosta;

class MyThread extends Thread {

    public MyThread() {
        super();
    }

    @Override
    public void run() {
        System.out.println(Thread.currentThread() + "start");
        int i;
        for (i = 0; i < 200; i++) {
            System.out.print(i + "\t");
        }

        System.out.println(Thread.currentThread() + "end");
    }
}

public class ThreadTest {

    public static void main(String[] args) {
        System.out.println(Thread.currentThread() + "start!");

        MyThread thread1 = new MyThread();
        thread1.run();

        System.out.println(Thread.currentThread() + "end!");

    }

}
```

</details>


### 2ï¸âƒ£ Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„


- Runnable ì¸í„°í˜ì´ìŠ¤
- ë‹¨ì¼ ë©”ì„œë“œì¸ run() êµ¬í˜„
- â­ï¸ ë‹¤ì¤‘ ìƒì† ë¬¸ì œ í•´ê²° : Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ìœ¼ë©´ì„œë„ ì“°ë ˆë“œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
- Runnable ì¸í„°í˜ì´ìŠ¤ëŠ” Javaì—ì„œ ë©€í‹°ì“°ë ˆë”© í”„ë¡œê·¸ë˜ë°ì„ í•  ë•Œ ìì£¼ ì‚¬ìš©ë¨.


<details>
<summary> Thread ë§Œë“¤ê¸° - í´ë˜ìŠ¤ë¥¼ ì´ìš©í•œ Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„1 </summary>


```java
package kr.co.kosta;

class MyThread2 implements Runnable {

@Override
public void run() {
    System.out.println(Thread.currentThread() + " start!");

    int i;
    for(i=0; i<20; i++)
        System.out.print(i + "\t");

    System.out.println(Thread.currentThread() + " end!");

}
}

public class ThreadTest2 {
public static void main(String[] args) {
System.out.println(Thread.currentThread() + " start!");

    MyThread2 runnable = new MyThread2();
    Thread thread = new Thread(runnable);
    thread.start();

    Thread thread2 = new Thread(new MyThread2());         // ìµëª… ê°ì²´ (ì´ë¦„ì´ ì˜ë¯¸ê°€ ì—†ìŒ -> anonymous ê°ì²´ë¡œ ìƒì„±)
    thread2.start();

    Runnable anonymousThread = new Runnable() {         // ì´ë¦„ì´ í•„ìš”ì—†ê¸° ë•Œë¬¸ì— ìµëª…

        @Override
        public void run() {
            System.out.println("anonymous Thread");
        }
    };

    anonymousThread.run();

    System.out.println(Thread.currentThread() + " end!");

    }
}
```
</details>



<details>
<summary> Thread ë§Œë“¤ê¸° -  Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„2 </summary>

```java

public class RunnableInterfaceTest {
    public static void main(String[] args) {

        // Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
        Runnable task = () -> {

            try {
                Thread.sleep(3000);
            } catch (InterruptedException e)
            {
                e.printStackTrace();
            }
            int sum = 0;
            for(int i =0; i<=10; i++)
                sum += i;
                String name = Thread.currentThread().getName(); // í˜„ì¬ ì“°ë ˆë“œì˜ ì´ë¦„ì„ ê°€ì ¸ì˜´
                System.out.println(name +" : "+ sum); //  ì“°ë ˆë“œ ì´ë¦„ê³¼ í•©ê³„ ì¶œë ¥

            };
            Thread thread = new Thread(task);
            thread.start();

            System.out.println("main : " + Thread.currentThread().getName());
        }
}

```

</details>


<details>
<summary> MultiThreadTest ë§Œë“¤ê¸° -  Runnable ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© </summary>

```java


public class MultiThreadTest {
    public static void main(String[] args) {

        Runnable task1 = () -> {
            // 20 ë¯¸ë§Œ ì§ìˆ˜ ì¶œë ¥
            for(int i = 0; i<20; i++) {
                System.out.print(i + " ");
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e ){
                    e.printStackTrace();
                }
            }
        };

        Runnable task2 = () -> {
            //10ë¯¸ë§Œ ìˆ˜ ì¶œë ¥ (9~1)
            for(int i=9; i>0; i--) {
                System.out.print(i + " ");
                try {
                    Thread.sleep(500);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        };

        Thread thread1 = new Thread(task1);
        Thread thread2 = new Thread(task2);

        thread1.start();
        thread2.start();
    }
}
```

</details>


## ğŸ Thread ìƒíƒœ


## ğŸ Thread í´ë˜ìŠ¤

1. Thread.Min_PRIORITY(1) ~ Thread.MAX_PRIORITY (10)
2. ë””í´íŠ¸ ìš°ì„ ìˆœìœ„ : Thread.NORM_PRIORITY (5)         
3. ìš°ì„  ìˆœìœ„ê°€ ë†’ì€ Threadê°€ CPUì˜ ë°°ë¶„ì„ ë°›ì„ í™•ë¥ ì´ ë†’ìŒ = ë” ìì£¼ ì‹¤í–‰ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤  
4. `setPriority(int newPriority)`  : Threadì˜ ìš°ì„ ìˆœìœ„ ì„¤ì •
5. `getPriority()` : Threadì˜ í˜„ì¬ ìš°ì„ ìˆœìœ„ ë°˜í™˜    
   
    <details>
    <summary> Thread ë§Œë“¤ê¸° -  Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„2 </summary>   

    ```java
    class PriorityThread extends Thread {
        @Override
        public void run() {
            int sum = 0;

            Thread thread = Thread.currentThread();
            System.out.println(thread + " start");
            for (int i = 0; i < 100000; i++)
                sum += i;
            System.out.println(thread.getPriority() + "end");

        }
    }

    public class PriorityTest {
        public static void main(String[] args) {
            int i;
            for(i=Thread.MIN_PRIORITY; i<=Thread.MAX_PRIORITY; i++) {
                PriorityThread pt = new PriorityThread();
                pt.setPriority(i);
                pt.start();
            }
        }
    }

    ```  

    ```bash
    Thread[#21,Thread-0,1,main] start
    Thread[#27,Thread-6,7,main] start
    Thread[#26,Thread-5,6,main] start
    Thread[#23,Thread-2,3,main] start
    Thread[#25,Thread-4,5,main] start
    Thread[#28,Thread-7,8,main] start
    Thread[#24,Thread-3,4,main] start
    Thread[#22,Thread-1,2,main] start
    Thread[#29,Thread-8,9,main] start
    Thread[#30,Thread-9,10,main] start
    7end
    8end
    1end
    10end
    2end
    5end
    3end
    9end
    4end
    6end
    ```
    </datails>



    <datails>
    <summary> thread ìš°ì„ ìˆœìœ„ ì˜ˆì¬2 - ë°˜ë“œì‹œ ë†’ì€ ìš°ì„ ìˆœìœ„ì˜ ìŠ¤ë ˆë“œê°€ ë¨¼ì € ì‹¤í–‰ë˜ì§€ X</summary>  

    ```java
    class PriorityThread2 extends Thread {

        @Override
        public void run() {
            int sum = 0;

            Thread thread = Thread.currentThread();
            System.out.println(thread + " start");
            for(int i=0; i<1000000; i++)
                sum += i;

            System.out.println(thread.getPriority() + " end");
        }
    }

    public class PriorityTest2 {
        public static void main(String[] args) {
            PriorityThread2 pt1 = new PriorityThread2();
            PriorityThread2 pt2 = new PriorityThread2();
            PriorityThread2 pt3 = new PriorityThread2();

            pt1.setPriority(Thread.MIN_PRIORITY);
            pt2.setPriority(Thread.NORM_PRIORITY);
            pt3.setPriority(Thread.MAX_PRIORITY);

            pt1.start();
            pt2.start();
            pt3.start();
        }
    }
    ```

    - í•­ìƒ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ 10ì´ë¨¼ì € ì‹¤í–‰ëœë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤.JVMê³¼ ìš´ì˜ì²´ì œì˜ ìŠ¤ì¼€ì¤„ë§ ì •ì±…ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤. 
    - ì“°ë ˆë“œ ìš°ì„ ìˆœìœ„ëŠ” ì“°ë ˆë“œ ìŠ¤ì¼€ì¤„ë§ì— ì˜í–¥ì„ ì£¼ëŠ” íŒíŠ¸ë¡œ ì‚¬ìš©ë  ë¿, ì ˆëŒ€ì ì¸ ì‹¤í–‰ ìˆœì„œë¥¼ ì œì–´í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.
    
    ```bash
    Thread[#23,Thread-2,10,main] start
    Thread[#21,Thread-0,1,main] start
    Thread[#22,Thread-1,5,main] start
    5 end
    10 end
    1 end
    ```

    </datails>

6. join()
    - ë™ì‹œì— ë‘ ê°œ ì´ìƒì˜ Thread()ê°€ ì‹¤í–‰ë  ë•Œ ë‹¤ë¥¸ Threadì˜ ê²°ê³¼ë¥¼ ì°¸ì¡°í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” ê²½ìš° join ë©”ì„œë“œ í™œìš©í•œë‹¤.
    - ë‹¤ë¥¸ Threadê°€ ëë‚  ë•Œê¹Œì§€ í˜„ì¬ Threadë¥¼ ëŒ€ê¸°ì‹œí‚¤ëŠ” ê¸°ëŠ¥
    - join() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ Threadê°€ Not Runnalbe ìƒíƒœê°€ ë˜ì–´ ì‹¤í–‰ì„ ë©ˆì¶”ê³ , ë‹¤ë¥¸ Thread ê°€ ìˆ˜í–‰ì´ ëë‚˜ë©´ Runnable ìƒíƒœë¡œ ëŒì•„ê°„ë‹¤.
  
    ![alt text](JavaImage/image-56.png)

    ```java
    Thread t1 = new Thread(() -> {
    // t1ì˜ ì‘ì—…
    });

    Thread t2 = new Thread(() -> {
        try {
            t1.join(); // t1ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        // t2ì˜ ì‘ì—…
    });

    ```
### ğŸ€ join() ì˜ˆì œ

    - ë‘ ê°œì˜ ì“°ë ˆë“œ jt1ê³¼ jt2ê°€ ê°ê° 1ì—ì„œ 50, 51ì—ì„œ 100ê¹Œì§€ì˜ í•©ì„ ê³„ì‚°í•˜ëŠ” ì˜ˆì œ
    - ê·¸ëŸ¬ë‚˜, main ì“°ë ˆë“œì—ì„œ ë‘ ì“°ë ˆë“œê°€ ê³„ì‚°ì„ ë§ˆì¹˜ê¸° ì „ì— í•©ì„ êµ¬í•˜ê³  ì¶œë ¥í•˜ë ¤ê³  í•˜ê¸° ë•Œë¬¸ì— ì˜ˆìƒí•œ ê²°ê³¼ê°€ ì¶œë ¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. 
    - ì´ëŠ” main ì“°ë ˆë“œê°€ jt1ê³¼ jt2ì˜ ê³„ì‚°ì´ ì™„ë£Œë˜ê¸° ì „ì— total ê°’ì„ ì½ê¸° ë•Œë¬¸ì´ë‹¤.
  
    <details>
    <summary>join() ì‚¬ìš© í•˜ê¸° ì „</summary>

    ```java
    public class JoinTest extends  Thread {

        int start;
        int end;
        int total;

        public JoinTest(int start, int end) {
            this.start = start;
            this.end = end;
        }

        @Override
        public void run() {
            int i;
            for(i = start; i<=end; i++)
                total += i;
        }

        public static void main(String[] args) {

            JoinTest jt1 = new JoinTest(1, 50);
            JoinTest jt2 = new JoinTest(51, 100);
            jt1.start();
            jt2.start();

            int sum = jt1.total + jt2.total;

            System.out.println("jt1.total = " + jt1.total);
            System.out.println("jt2.total = " + jt2.total);

            System.out.println("ì „ì²´ sum = " + sum);

            System.out.println(Thread.currentThread() + " end");
        }
    }

    ```

    ```bash
    jt1.total = 1275
    jt2.total = 3775
    ì „ì²´ sum = 1275
    Thread[#1,main,5,main] end
    ```

    </details>

    - join()ì„ ì‚¬ìš©í•˜ì—¬ jt1ê³¼ jt2ì˜ ì‹¤í–‰ì´ ëë‚  ë•Œê¹Œì§€ main ìŠ¤ë ˆë“œê°€ ê¸°ë‹¤ë¦¬ë„ë¡ í•˜ê¸°

    <details>
    <summary>join() ì‚¬ìš© í›„</summary>

    ```java
    package ThreadTest.ksota3;

    public class JoinTest extends Thread {

        int start;
        int end;
        int total;

        public JoinTest(int start, int end) {
            this.start = start;
            this.end = end;
        }

        @Override
        public void run() {
            int i;
            for (i = start; i <= end; i++)
                total += i;
        }

        public static void main(String[] args) {
            JoinTest jt1 = new JoinTest(1, 50);
            JoinTest jt2 = new JoinTest(51, 100);
            jt1.start();
            jt2.start();

            try {
                jt1.join(); // jt1 ì“°ë ˆë“œê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
                jt2.join(); // jt2 ì“°ë ˆë“œê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

            int sum = jt1.total + jt2.total;

            System.out.println("jt1.total = " + jt1.total);
            System.out.println("jt2.total = " + jt2.total);

            System.out.println("ì „ì²´ sum = " + sum);

            System.out.println(Thread.currentThread() + " end");
        }
    }

    ```

    ```bash
    jt1.total = 1275
    jt2.total = 3775
    ì „ì²´ sum = 5050
    Thread[#1,main,5,main] end
    ```

    </details>

<br>

7. Thread ì¢…ë£Œí•˜ê¸° 
    - ë¬´í•œ ë£¨í”„ì˜ ê²½ìš° while(Flag)ì˜ flag ë³€ìˆ˜ê°’ì„ falseë¡œ ë°”ê¾¸ì–´ ì¢…ë£Œ í•œë‹¤.             
    - ì˜ˆì‹œ) stopThread() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ running ë³€ìˆ˜ë¥¼ falseë¡œ ë°”ê¾¸ì–´ Threadë¥¼ ì¢…ë£Œí•  ìˆ˜ ìˆë‹¤.
  
    ```java
    class MyThread extends Thread {
        private volatile boolean running = true;

        public void run() {
            while (running) {
                // ì‘ì—… ìˆ˜í–‰
            }
        }

        public void stopThread() {
            running = false; // ì¢…ë£Œ ì¡°ê±´ ì„¤ì •
        }
    }
    ```
### ğŸ€ Thread ì¢…ë£Œ ì˜ˆì œ

<details>
<summary></summary>

```java
package ThreadTest.ksota4;

import java.io.IOException;

public class TerminateThreadTest extends Thread {

    private boolean flag = false;

    public TerminateThreadTest(String name) {
        super(name);
    }

    public void setFlag(boolean flag) {
        this.flag = flag;
    };

    @Override
    public void run() {  // flagê°€ trueê°€ ë˜ë©´ ì“°ë ˆë“œëŠ” ì¢…ë£Œ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ì¢…ë£Œ
        while (!flag) {
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e ) {
                e.printStackTrace();
            }
        }
        System.out.println(this.getName() + " end");
    }

    public static void main(String[] args) throws IOException {

        TerminateThreadTest threadA = new TerminateThreadTest("A");
        TerminateThreadTest threadB = new TerminateThreadTest("B");
        TerminateThreadTest threadC = new TerminateThreadTest("C");
        threadA.start();
        threadB.start();
        threadC.start();

        int i;
        while(true) {
            int in = System.in.read();

            if(in == 'A') {
                threadA.setFlag(true);
            } else if(in == 'B') {
                threadB.setFlag(true);
            } else if(in == 'C') {
                threadC.setFlag(true);
            } else if(in == 'M') {
                threadA.setFlag(true);
                threadB.setFlag(true);
                threadC.setFlag(true);
                break;  // 'M' í‚¤ë¥¼ ì…ë ¥í•˜ë©´ ëª¨ë“  ì“°ë ˆë“œë¥¼ ì¢…ë£Œí•˜ê³  ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ì˜´
            } else {
                System.out.println("try again");
            }
        }

        // ë©”ì¸ ìŠ¤ë ˆë“œëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ê³„ì† ëŒ€ê¸°í•¨. ìŠ¤ë ˆë“œ ì¢…ë£Œ í›„ì—ë„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œëŠ” ê³„ì† ì‹¤í–‰ë¨
        // isAlive()ê°€ ëª¨ë‘ falseê°€ ë˜ë©´ ì¢…ë£Œ
        while(threadA.isAlive() || threadB.isAlive() || threadC.isAlive()) {
            // ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë˜ê¸°ë¥¼ ëŒ€ê¸°
        }
        System.out.println("ëª¨ë“  ìŠ¤ë ˆë“œ ì¢…ë£Œ!!");
    }
}

```

```bash
A
try again
A end
B
try again
B end
C
try again
C end
M
ëª¨ë“  ìŠ¤ë ˆë“œ ì¢…ë£Œ!!
```
</details>




## ğŸ Multi-threading í”„ë¡œê·¸ë˜ë°ì˜ ë™ê¸°í™” 
1. `ì„ê³„êµ¬ì—­(critical section)`ì€ ë‘ê°œ ì´ìƒì˜ threadê°€ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê²½ìš° ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ì˜ì—­ì²˜ë¦¬í•´ ì£¼ëŠ” ê²ƒ

2. ë™ê¸°í™”ì˜ í•„ìš”ì„±
- í•œ ìˆœê°„ ì˜¤ì§ í•˜ë‚˜ì˜ threadê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.
- í˜„ì¬ ì“°ë ˆë“œê°€ ì„ê³„ êµ¬ì—­ì„ ë¹ ì ¸ë‚˜ê°ˆ ë•Œê¹Œì§€ ëŒ€ê¸°(blocking) ìƒíƒœê°€ ëœë‹¤.

3. ë™ê¸°í™” (synchronization)
    - ë‘ ê°œì˜ threadê°€ ê°™ì€ ê°ì²´ì— ì ‘ê·¼ í•  ê²½ìš°, ë™ì‹œì— ì ‘ê·¼ í•¨ìœ¼ë¡œì¨ ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œ ë°œìƒí•¨.
    - ë™ê¸°í™”ëŠ” critical section(ì„ê³„ ì˜ì—­)ì— ì ‘ê·¼í•  ê²½ìš° ê³µìœ  ìì›ì„ ì ê·¸ëŠ” lockí•˜ì—¬ ë‹¤ë¥¸ threadì˜ ì ‘ê·¼ì„ ì œì–´ 
    - ë™ê¸°í™”ë¥¼ ì˜ëª» êµ¬í˜„í•˜ë©´ êµì°©ìƒíƒœ(`deadlock`)ì— ë¹ ì§ˆ ìˆ˜ ìˆìŒ.
        - ë‘ ì“°ë ˆë“œê°€ ì„œë¡œê°€ í•„ìš”í•˜ëŠ” ìì›ì„ ì ê°€ë²„ë ¤ ì˜ì›íˆ ëŒ€ê¸° ìƒíƒœì— ë¹ ì§€ëŠ” ê²ƒ

## ğŸ ìë°”ì—ì„œì˜ ë™ê¸°í™” êµ¬í˜„ ë°©ë²•

###  1ï¸âƒ£ synchronized ë¸”ë¡ 

- í˜„ì¬ ê°ì²´ ë˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ lockìœ¼ë¡œ ë§Œë“¦
- synchronized ë¸”ë¡ ì•ˆì˜ ì½”ë“œëŠ” ë™ì‹œì— í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

    
```java
synchronized(ì°¸ì¡°í˜• ìˆ˜ì‹) {
        ìˆ˜í–‰ë¬¸;
        }        
```

### 2ï¸âƒ£ synchronized ë©”ì„œë“œ 

- ê°ì²´ì˜ ë©”ì„œë“œì— synchronized í‚¤ì›Œë“œ ì‚¬ìš© 
- í˜„ì¬ ì´ ë©”ì„œë“œê°€ ì†í•´ìˆëŠ” ê°ì²´ì— lockì„ ê±¸ìŒ                          


### ğŸ€ Synchronization ì˜ˆì œ

- Leeì™€ Shin í´ë˜ìŠ¤ì˜ ì“°ë ˆë“œëŠ” ëª¨ë‘ ë™ì¼í•œ Bank ê°ì²´ (SynchronizationTest.myBank)ì— ì ‘ê·¼í•˜ì—¬ ì…ì¶œê¸ˆì„ ìˆ˜í–‰í•œë‹¤. 
- ì´ë¡œ ì¸í•´ ì“°ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œ(ì˜ˆ: ë°ì´í„° ë¶ˆì¼ì¹˜)ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” ë™ê¸°í™”ê°€ í•„ìš”í•˜ë‹¤.

<details>
<summary> ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œ ë°œìƒ - ë™ê¸°í™” ì ìš© ì „</summary>

```java
class Bank {
    private int money = 10000;

    public int getMoney() {
        return money;
    }

    public void setMoney(int money) {
        this.money = money;
    }

    //ì˜ˆê¸ˆí•˜ë‹¤
    public void deposite(int save) {
        int m = this.getMoney();

        try {
            Thread.sleep(3000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        setMoney(m + save);
    }

    //ì¸ì¶œí•˜ë‹¤
    public void withdraw(int minus) {
        int m = this.getMoney();

        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        setMoney(m - minus);
    }
}

class Lee extends Thread {
    @Override
    public void run() {
        System.out.println("ì…ê¸ˆ ì‹œì‘");
        SynchronizationTest.myBank.deposite(3000);
        System.out.println("3000ì› ì…ê¸ˆ : " + SynchronizationTest.myBank.getMoney());
    }
}

class Shin extends Thread {
    @Override
    public void run() {
        System.out.println("ì¶œê¸ˆ ì‹œì‘");
        SynchronizationTest.myBank.withdraw(1000);
        System.out.println("1000ì› ì¶œê¸ˆ : " + SynchronizationTest.myBank.getMoney());
    }
}

public class SynchronizationTest {

    public static Bank myBank = new Bank();

    public static void main(String[] args) {
        Lee threadLee = new Lee();
        threadLee.start();

        Shin threadShin = new Shin();
        threadShin.start();

    }
}
```

- ì…ê¸ˆ ê¸ˆì•¡ì´ 9000 + 3000ì›ì´ ë§ë‹¤.

```bash
ì…ê¸ˆ ì‹œì‘
ì¶œê¸ˆ ì‹œì‘
1000ì› ì¶œê¸ˆ : 9000
3000ì› ì…ê¸ˆ : 13000

```
</details>

>  1  ë©”ì„œë“œ ìˆ˜ì¤€ì˜ ë™ê¸°í™”

- ë©”ì„œë“œ ìì²´ê°€ ë™ê¸°í™”ëœë‹¤. synchronized í‚¤ì›Œë“œë¥¼ ë©”ì„œë“œ ì„ ì–¸ì— ë¶™ì¸ë‹¤.
- ê°„ê²°í•˜ì§€ë§Œ, íŠ¹ì •ê°ì²´(this)ì— ëŒ€í•´ ë©”ì„œë“œ ì „ì²´ê°€ ë™ê¸°í™” ë˜ë¯€ë¡œ, ê°ì²´ì˜ ë‹¤ë¥¸ ë™ê¸°í™” ë©”ì„œë“œì™€ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.

<details>
<summary>ë™ê¸°í™” ì ìš© ë°©ë²• 1 - ë©”ì„œë“œ ìˆ˜ì¤€ ë™ê¸°í™”</summary>

```java
class Bank {
	private int money = 10000;

	public int getMoney() {
		return money;
	}

	public void setMoney(int money) {
		this.money = money;
	}
	
	//ì˜ˆê¸ˆí•˜ë‹¤
	public synchronized void deposite(int save) {
		int m = this.getMoney();
		
		try {
			Thread.sleep(3000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		
		setMoney(m + save);
	}
	
	//ì¸ì¶œí•˜ë‹¤
	public synchronized void withdraw(int minus) {
		int m = this.getMoney();
		
		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		
		setMoney(m - minus);
	}
}

class Lee extends Thread {
	@Override
	public void run() {
		System.out.println("ì…ê¸ˆ ì‹œì‘");
		SynchronizationTest.myBank.deposite(3000);
		System.out.println("3000ì› ì…ê¸ˆ : " + SynchronizationTest.myBank.getMoney());
	}
}

class Shin extends Thread {
	@Override
	public void run() {
		System.out.println("ì¶œê¸ˆ ì‹œì‘");
		SynchronizationTest.myBank.withdraw(1000);
		System.out.println("1000ì› ì¶œê¸ˆ : " + SynchronizationTest.myBank.getMoney());
	}
}

public class SynchronizationTest {
	public static Bank myBank = new Bank();
	public static void main(String[] args) {
		Lee threadLee = new Lee();
		threadLee.start();
		
		Shin threadShin = new Shin();
		threadShin.start();
		
	}
}
```

```bash
ì…ê¸ˆ ì‹œì‘
ì¶œê¸ˆ ì‹œì‘
3000ì› ì…ê¸ˆ : 13000
1000ì› ì¶œê¸ˆ : 12000
```
</details>

> 2 íŠ¹ì • ë¸”ë¡ ë™ê¸°í™” (ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ë™ê¸°í™”)

- ë™ê¸°í™” ë²”ìœ„ ì§€ì •: ë©”ì„œë“œ ì „ì²´ê°€ ì•„ë‹Œ íŠ¹ì • ì½”ë“œ ë¸”ë¡ë§Œ ë™ê¸°í™” ê°€ëŠ¥
- ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ë™ê¸°í™” ë¸”ë¡ì„ ì‚¬ìš©í•˜ì—¬, ë©”ì„œë“œì˜ íŠ¹ì • ë¶€ë¶„ë§Œ ë™ê¸°í™”í•  ìˆ˜ ìˆë‹¤.
- íŠ¹ì • ê°ì²´(this)ì— ëŒ€í•´ ë™ê¸°í™”ë¥¼ ìˆ˜í–‰í•˜ë¯€ë¡œ, ë©”ì„œë“œ ì „ì²´ë¥¼ ë™ê¸°í™”í•  í•„ìš” ì—†ì´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ë™ê¸°í™”í•  ìˆ˜ ìˆë‹¤.
- ë™ê¸°í™”ê°€ í•„ìš”í•œ ë¶€ë¶„ë§Œ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆì–´, ë¶ˆí•„ìš”í•œ ë™ê¸°í™”ë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤.


<details>
<summary>ë™ê¸°í™” ì ìš© ë°©ë²• 2 - ë©”ì„œë“œ ë‚´ë¶€ ë™ê¸°í™”</summary>

```java
package kr.co.kosta5.solve2;

class Bank {
	private int money = 10000;

	public int getMoney() {
		return money;
	}

	public void setMoney(int money) {
		this.money = money;
	}
	
	//ì˜ˆê¸ˆí•˜ë‹¤
	public void deposite(int save) {
		
		synchronized (this) {
			int m = this.getMoney();	
			try {
				Thread.sleep(3000);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
			
			setMoney(m + save);			
		}
		
	}
	
	//ì¸ì¶œí•˜ë‹¤
	public void withdraw(int minus) {
			
		synchronized (this) {
			int m = this.getMoney();
			try {
				Thread.sleep(1000);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
			
			setMoney(m - minus);			
		}
		
	}
}

class Lee extends Thread {
	@Override
	public void run() {
		System.out.println("ì…ê¸ˆ ì‹œì‘");
		SynchronizationTest.myBank.deposite(3000);
		System.out.println("3000ì› ì…ê¸ˆ : " + SynchronizationTest.myBank.getMoney());
	}
}

class Shin extends Thread {
	@Override
	public void run() {
		System.out.println("ì¶œê¸ˆ ì‹œì‘");
		SynchronizationTest.myBank.withdraw(1000);
		System.out.println("1000ì› ì¶œê¸ˆ : " + SynchronizationTest.myBank.getMoney());
	}
}

public class SynchronizationTest {
	public static Bank myBank = new Bank();
	public static void main(String[] args) {
		Lee threadLee = new Lee();
		threadLee.start();
		
		Shin threadShin = new Shin();
		threadShin.start();
		
	}
}
```
</details>

>  3 íŠ¹ì • ë¸”ë¡ ë™ê¸°í™” (ì“°ë ˆë“œì—ì„œ ë™ê¸°í™”)

- íŠ¹ì • ê°ì²´(SynchronizationTest.myBank)ì— ëŒ€í•´ ë™ê¸°í™”ë¥¼ ìˆ˜í–‰
- ë©”ì„œë“œ ì „ì²´ê°€ ì•„ë‹Œ `íŠ¹ì • ì½”ë“œ ë¸”ë¡ ë¶€ë¶„`ë§Œ ë™ê¸°í™”í•  ìˆ˜ ìˆë‹¤ (ì„¸ë°€í•¨)
- ë™ê¸°í™”ê°€ í•„ìš”í•œ ì½”ë“œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë¸”ë¡ìœ¼ë¡œ ê°ì‹¸ì„œ ë™ê¸°í™” ê°€ëŠ¥


<details>
<summary>ë™ê¸°í™” ì ìš© ë°©ë²• 3</summary>

```java

class Bank {
	private int money = 10000;

	public int getMoney() {
		return money;
	}

	public void setMoney(int money) {
		this.money = money;
	}
	
	//ì˜ˆê¸ˆí•˜ë‹¤
	public void deposite(int save) {
		int m = this.getMoney();
		
		try {
			Thread.sleep(3000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		
		setMoney(m + save);
	}
	
	//ì¸ì¶œí•˜ë‹¤
	public void withdraw(int minus) {
		int m = this.getMoney();
		
		try {
			Thread.sleep(1000);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		
		setMoney(m - minus);
	}
}

class Lee extends Thread {
	@Override
	public void run() {
		System.out.println("ì…ê¸ˆ ì‹œì‘");
		SynchronizationTest.myBank.deposite(3000);
		System.out.println("3000ì› ì…ê¸ˆ : " + SynchronizationTest.myBank.getMoney());
	}
}

class Shin extends Thread {
	@Override
	public void run() {
		System.out.println("ì¶œê¸ˆ ì‹œì‘");
		SynchronizationTest.myBank.withdraw(1000);
		System.out.println("1000ì› ì¶œê¸ˆ : " + SynchronizationTest.myBank.getMoney());
	}
}

public class SynchronizationTest {
	public static Bank myBank = new Bank();
	public static void main(String[] args) {
		Lee threadLee = new Lee();
		threadLee.start();
		
		Shin threadShin = new Shin();
		threadShin.start();
		
	}
}

```

</details>


> ìš”ì•½

- ë°©ë²• 1ì€ ë©”ì„œë“œ ì „ì²´ë¥¼ ë™ê¸°í™”í•˜ëŠ” ê°€ì¥ ê°„ê²°í•œ ë°©ë²•ìœ¼ë¡œ, ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ìë™ìœ¼ë¡œ ë™ê¸°í™”ê°€ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
- ë°©ë²• 2ëŠ” ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ ë™ê¸°í™” ë¸”ë¡ì„ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ë¶€ë¶„ë§Œ ë™ê¸°í™”í•  ìˆ˜ ìˆì–´, ë¶ˆí•„ìš”í•œ ë™ê¸°í™”ë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë°©ë²• 3ì€ ì“°ë ˆë“œì—ì„œ íŠ¹ì • ê°ì²´ì— ëŒ€í•´ ë™ê¸°í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ë™ê¸°í™”ê°€ í•„ìš”í•œ ë¶€ë¶„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆì–´ ìœ ì—°í•©ë‹ˆë‹¤.


## ğŸ wait() / notity(), notifyAll() ë©”ì„œë“œ í™œìš©í•œ ë™ê¸°í™” í”„ë¡œê·¸ë˜ë° 


1. ë¦¬ì†ŒìŠ¤ê°€ ì–´ë–¤ ì¡°ê±´ì—ì„œ ë” ì´ìƒ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš° ë¦¬ì†ŒìŠ¤ë¥¼ ê¸°ë‹¤ë¦¬ê¸° ìœ„í•´ Threadê°€ wait() ìƒíƒœê°€ ë¨ 

2. wait() ìƒíƒœê°€ ëœ threadì€ notify()ê°€ í˜¸ì¶œ ë  ê¹Œì§€ ê¸°ë‹¤ë¦¼.

3. ìœ íš¨í•œ ìì›ì´ ìƒê¸°ë©´ nofity()ê°€ í˜¸ì¶œë˜ê³  wait()í•˜ê³  ìˆëŠ” Thread ì¤‘ ë¬´ì‘ìœ„ë¡œ í•˜ë‚˜ì˜ Threadë¥¼ ì¬ì‹œì‘ í•¨.

4. notifyAll()ì´ í˜¸ì¶œë˜ëŠ” ê²½ìš° wait()í•˜ê³  ìˆëŠ” `ëª¨ë“  Thread`ê°€ ì¬ì‹œì‘ë¨.
    - ì´ ê²½ìš° ìœ íš¨í•œ ë¦¬ì†ŒìŠ¤ë§Œí¼ì˜ Threadë§Œì´ ìˆ˜í–‰ë  ìˆ˜ ìˆê³  ìì›ì„ ê°–ì§€ ëª»í•œ Threadì˜ ê²½ìš°ëŠ” ë‹¤ì‹œ wait() ìƒíƒœë¡œ ë§Œë“¦            




### ğŸ€  wait() / notity(), notifyAll() ì˜ˆì œ

- ArrayListëŠ” ë™ê¸°í™”ë˜ì§€ ì•Šì€ ì»¬ë ‰ì…˜ì´ë¯€ë¡œ, ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•˜ì—¬ ìš”ì†Œë¥¼ ì œê±°í•˜ê±°ë‚˜ ì¶”ê°€í•  ë•Œ ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- lendBook ë©”ì„œë“œê°€ ì˜ˆì™¸ë¥¼ ë°œìƒ ê°€ëŠ¥ â›”ï¸


<details>
<summary></summary>

```java

import java.util.ArrayList;

class KostaBooks {
    public ArrayList<String> shelf = new ArrayList<>();

    public KostaBooks() {
        shelf.add("ì˜¤ë¦¬ì—­1");
        shelf.add("ì˜¤ë¦¬ì—­2");
        shelf.add("ì˜¤ë¦¬ì—­3");
        shelf.add("ì˜¤ë¦¬ì—­4");
        shelf.add("ì˜¤ë¦¬ì—­5");
        shelf.add("ì˜¤ë¦¬ì—­6");
    }

    public String lendBook() {
        String book = shelf.remove(0);
        System.out.println(Thread.currentThread().getName() + ": " + book +  " ë¹Œë¦¼");
        return book;
    }

    public void returnBook(String book) {
        shelf.add(book);
        System.out.println(Thread.currentThread().getName() + ": " + book +  " ë°˜ë‚©í•¨");
    }
}

class Person extends Thread {
    public Person(String name) {
        super(name);
    }

    @Override
    public void run() {
        String title = SynWaitNotifyTest.koBooks.lendBook();
        if(title == null) return;

        try {
            Thread.sleep(5000);
            SynWaitNotifyTest.koBooks.returnBook(title);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}

public class SynWaitNotifyTest {

    public static KostaBooks koBooks = new KostaBooks();

    public static void main(String[] args) {

            Person person1 = new Person("person1");
            Person person2 = new Person("person2");
            Person person3 = new Person("person3");
            Person person4 = new Person("person4");
            Person person5 = new Person("person5");
            Person person6 = new Person("person6");

            person1.start();
            person2.start();
            person3.start();
            person4.start();
            person5.start();
            person6.start();

    }
}

```
```bash
person5: ì˜¤ë¦¬ì—­5 ë¹Œë¦¼
person3: ì˜¤ë¦¬ì—­3 ë¹Œë¦¼
person2: ì˜¤ë¦¬ì—­2 ë¹Œë¦¼
person6: ì˜¤ë¦¬ì—­6 ë¹Œë¦¼
person4: ì˜¤ë¦¬ì—­4 ë¹Œë¦¼
person1: ì˜¤ë¦¬ì—­1 ë¹Œë¦¼
person5: ì˜¤ë¦¬ì—­5 ë°˜ë‚©í•¨
person6: ì˜¤ë¦¬ì—­6 ë°˜ë‚©í•¨
person2: ì˜¤ë¦¬ì—­2 ë°˜ë‚©í•¨
person3: ì˜¤ë¦¬ì—­3 ë°˜ë‚©í•¨
person4: ì˜¤ë¦¬ì—­4 ë°˜ë‚©í•¨
person1: ì˜¤ë¦¬ì—­1 ë°˜ë‚©í•¨

```

</details>


> notifyAll


- ë™ê¸°í™”:synchronized í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ lendBook ë° returnBook ë©”ì„œë“œë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë™ì‹œì— í•´ë‹¹ ë©”ì„œë“œì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ ë˜ì–´ ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì“°ë ˆë“œ í˜‘ë ¥:lendBook ë©”ì„œë“œì—ì„œ wait() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì±…ì´ ì—†ì„ ë•Œ ì“°ë ˆë“œë¥¼ ëŒ€ê¸° ìƒíƒœë¡œ ë§Œë“­ë‹ˆë‹¤.returnBook ë©”ì„œë“œì—ì„œ notify() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œë¥¼ ê¹¨ì›Œ ë‹¤ì‹œ ì±…ì„ ëŒ€ì—¬í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.


<details>
<summary>wait(), notify() ë©”ì„œë“œ ì‚¬ìš©</summary>

```java
package kr.co.kosta6.solve;

import java.util.ArrayList;

class KostaBooks {
	public ArrayList<String> shelf = new ArrayList<>();
	
	public KostaBooks() {
		shelf.add("ì˜¤ë¦¬ì—­1");
		shelf.add("ì˜¤ë¦¬ì—­2");
		shelf.add("ì˜¤ë¦¬ì—­3");
	}
	
	public synchronized String lendBook() throws InterruptedException {
		
		if (shelf.size() == 0) {
			System.out.println(Thread.currentThread().getName() + " waiting start ");
			wait();
			System.out.println(Thread.currentThread().getName() + " waiting end ");
		}
		
		if (shelf.size() > 0) {
			String book = shelf.remove(0);
			System.out.println(Thread.currentThread().getName() + ": " + book +  " ë¹Œë¦¼");
			return book;			
		}
		else return null;

	}
	
	public synchronized void returnBook(String book) {
		shelf.add(book);
		notify();
		System.out.println(Thread.currentThread().getName() + ": " + book +  " ë°˜ë‚©í•¨");
	}
}

class Person extends Thread {
	public Person(String name) {
		super(name);
	}
	
	@Override
	public void run() {
		
		try {
			String title = SynWaitNofityTest.koBooks.lendBook();
			
			if(title == null) {
				System.out.println(getName() + " ë¹Œë¦¬ì§€ ëª»í–ˆìŒ");
				return;
			}
			
			Thread.sleep(5000);
			SynWaitNofityTest.koBooks.returnBook(title);
		
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
	}
}

public class SynWaitNofityTest {
	public static KostaBooks koBooks = new KostaBooks();
	public static void main(String[] args) {
		Person person1 = new Person("person1");
		Person person2 = new Person("person2");
		Person person3 = new Person("person3");
		Person person4 = new Person("person4");
		Person person5 = new Person("person5");
		Person person6 = new Person("person6");
		
		person1.start();
		person2.start();
		person3.start();
		person4.start();
		person5.start();
		person6.start();
	}
}
```
```bash
person3: ì˜¤ë¦¬ì—­3 ë¹Œë¦¼
person5: ì˜¤ë¦¬ì—­5 ë¹Œë¦¼
person1: ì˜¤ë¦¬ì—­1 ë¹Œë¦¼
person6: ì˜¤ë¦¬ì—­6 ë¹Œë¦¼
person2: ì˜¤ë¦¬ì—­2 ë¹Œë¦¼
person4: ì˜¤ë¦¬ì—­4 ë¹Œë¦¼
person1: ì˜¤ë¦¬ì—­1 ë°˜ë‚©í•¨
person3: ì˜¤ë¦¬ì—­3 ë°˜ë‚©í•¨
person5: ì˜¤ë¦¬ì—­5 ë°˜ë‚©í•¨
person6: ì˜¤ë¦¬ì—­6 ë°˜ë‚©í•¨
person4: ì˜¤ë¦¬ì—­4 ë°˜ë‚©í•¨
person2: ì˜¤ë¦¬ì—­2 ë°˜ë‚©í•¨

```

</details>


> notifyAll

<details>
<summary>wait(), notifyAll() ë©”ì„œë“œ ì‚¬ìš©</summary>

```java
package kr.co.kosta6.solve2;

import java.util.ArrayList;

class KostaBooks {
	public ArrayList<String> shelf = new ArrayList<>();
	
	public KostaBooks() {
		shelf.add("ì˜¤ë¦¬ì—­1");
		shelf.add("ì˜¤ë¦¬ì—­2");
		shelf.add("ì˜¤ë¦¬ì—­3");
	}
	
	public synchronized String lendBook() throws InterruptedException {
		
		if (shelf.size() == 0) {
			System.out.println(Thread.currentThread().getName() + " waiting start ");
			wait();
			System.out.println(Thread.currentThread().getName() + " waiting end ");
		}
		
		if (shelf.size() > 0) {
			String book = shelf.remove(0);
			System.out.println(Thread.currentThread().getName() + ": " + book +  " ë¹Œë¦¼");
			return book;			
		}
		else return null;

	}
	
	public synchronized void returnBook(String book) {
		shelf.add(book);
		notifyAll();
		System.out.println(Thread.currentThread().getName() + ": " + book +  " ë°˜ë‚©í•¨");
	}
}

class Person extends Thread {
	public Person(String name) {
		super(name);
	}
	
	@Override
	public void run() {
		
		try {
			String title = SynWaitNofityTest.koBooks.lendBook();
			
			if(title == null) {
				System.out.println(getName() + " ë¹Œë¦¬ì§€ ëª»í–ˆìŒ");
				return;
			}
			
			Thread.sleep(5000);
			SynWaitNofityTest.koBooks.returnBook(title);
		
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
	}
}

public class SynWaitNofityTest {
	public static KostaBooks koBooks = new KostaBooks();
	public static void main(String[] args) {
		Person person1 = new Person("person1");
		Person person2 = new Person("person2");
		Person person3 = new Person("person3");
		Person person4 = new Person("person4");
		Person person5 = new Person("person5");
		Person person6 = new Person("person6");
		
		person1.start();
		person2.start();
		person3.start();
		person4.start();
		person5.start();
		person6.start();
	}
}

```
```bash
```

</details>