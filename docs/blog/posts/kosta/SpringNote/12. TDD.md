---
draft: false
authors:
    - hyewon
date: 2024-08-17
categories:
    - spring
---

# í…ŒìŠ¤íŠ¸ì½”ë“œ ì‘ì„±í•´ë³´ê¸°

-   TDD(í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ), jUnitì´ë€?, í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì‹œ í•„ìš”í•œ assert ë©”ì„œë“œì— ëŒ€í•´ ì•Œì•„ë³´ì

<!-- more -->

## ğŸ“Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ

-   ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ëŠ¥ê³¼ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ì½”ë“œ
-   ê°œë°œìê°€ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ê°œë°œí•œ ê¸°ëŠ¥ì´ ì˜ë„ëŒ€ë¡œ ì •í™•íˆ ë™ì‘í•˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ì ˆì°¨ë¥¼ ì½”ë“œí™” í•´ë†“ì€ ê²ƒ

### í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì´ìœ ?

-   ì‹ ê·œ ê¸°ëŠ¥ ê°œë°œ ê³¼ì • ì¤‘ ì˜ˆìƒí•˜ì§€ ëª»í–ˆë˜ ë¬¸ì œë¥¼ ë¯¸ë¦¬ ë°œê²¬í•  ìˆ˜ ìˆìŒ
-   ì‘ì„±í•œ ì½”ë“œê°€ ì˜ë„í•œ ëŒ€ë¡œ ë™ì‘í•˜ëŠ” ê²€ì¦
-   ì½”ë“œ ìˆ˜ì •ì´ í•„ìš”í•œ ìƒí™©ì—ì„œ ìœ ì—°í•˜ê²Œ ì•ˆì •ì ì¸ ëŒ€ì‘ ê°€ëŠ¥

## ğŸ“Œ í…ŒìŠ¤íŠ¸ ì¢…ë¥˜

1. UI
2. Service(Intergration)
3. Unit Test

### Unit Test

-   ê°€ì¥ ì‘ì€ ë‹¨ìœ„ë¡œ ê¸°ëŠ¥ì„ ë‚˜ëˆ„ì–´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê¸°ë²•
-   ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•˜ëŠ” ê°ì²´ì˜ ê¸°ëŠ¥(ë©”ì„œë“œ)ë¥¼ ì˜ë¯¸í•¨
-   ì‘ì€ ë‹¨ìœ„ë¡œ ìª¼ê°  í•˜ë‚˜ì˜ ë©”ì„œë“œê°€ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ëŠ”ì§€ ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸

> ì¥ì 

-   ë¹ ë¥´ê³  ì‰½ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

> ë‹¨ì 

-   ê°ì²´ëŠ” ê°ì²´ ê°„ í˜‘ë ¥ì„ í†µí•´ì„œ ê¸°ëŠ¥ì„ ì™„ì„± ì‹œí‚´
-   ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì‹œ, ê°ì²´ ê°„ ì˜ì¡´ì„± ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼ í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆìŒ

## ğŸ“Œ TDD(Test-Driven Development)

-   í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ
-   ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‹œì‘í•´ì„œ ë¦¬íŒ©í† ë§ìœ¼ë¡œ ì¢…ë£Œë˜ëŠ” ì¼ë ¨ì˜ ìŠ¤í”„ë¦°íŠ¸ ë°©ì‹ì„ ì—¬ëŸ¬ë²ˆ ê±°ì³ì„œ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ” ì½”ë“œë¥¼ ì™„ì„±ì‹œí‚¤ëŠ” ê°œë°œ ë°©ë²•ë¡ 

## ğŸ“Œ TDD ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•˜ê¸°

1. ì•”í˜¸ ê²€ì‚¬ê¸°
    - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë¬¸ìì—´ì„ ê²€ì‚¬í•´ì„œ ì •í•´ì ¸ ê·œì¹™ì„ ì ìš©í•œ ìˆ˜ì¤€ì— ë”°ë¼
      "ì•½í•¨", "ë³´í†µ", "ê°•í•¨"ìœ¼ë¡œ ê²°ê³¼ ê°’ì„ ë°˜í™˜
2. ì•”í˜¸ ê²€ì‚¬ê¸° ê·œì¹™
    - ê¸¸ì´ê°€ 8ê¸€ì ì´ìƒ
    - 0ë¶€í„° 9 ì‚¬ì´ì˜ ìˆ«ì í¬í•¨
    - ëŒ€ë¬¸ì í¬í•¨
3. ì•”í˜¸ ê²€ì‚¬ê¸° í‰ê°€ ê¸°ì¤€
    - 3ê°€ì§€ ê·œì¹™ ëª¨ë‘ ì¶©ì¡±í•˜ë©´ ì•”í˜¸ëŠ” ê°•í•¨
    - 2ê°œì˜ ê·œì¹™ ì¶©ì¡±í•˜ë©´ ì•”í˜¸ëŠ” ë³´í†µ
    - 1ê°œ ì´í•˜ ê·œì¹™ ì¶©ì¡±í•˜ë©´ ì•”í˜¸ëŠ” ì•½í•¨

## ğŸ“Œ jUnit

> ê°œìš”

1.  Javaì—ì„œ ë…ë¦½ëœ ë‹¨ìœ„í…ŒìŠ¤íŠ¸(Unit Test)ë¥¼ ì§€ì›í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬
2.  ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ì‰½ê²Œ í•´ì£¼ëŠ” í…ŒìŠ¤íŠ¸ ì§€ì› í”„ë ˆì„ì›Œí¬

> ë‹¨ìœ„í…ŒìŠ¤íŠ¸ (Unit Test)

1. ì†ŒìŠ¤ ì½”ë“œì˜ íŠ¹ì • ëª¨ë“ˆì´ ì˜ë„ëœ ëŒ€ë¡œ ì •í™•íˆ ì‘ë™ë˜ëŠ”ì§€ ê²€ì¦í•˜ëŠ” ì ˆì°¨
2. ëª¨ë“  í•¨ìˆ˜ì™€ ë©”ì†Œë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤(Test case)ë¥¼ ì‘ì„±í•˜ëŠ” ì ˆì°¨

> íŠ¹ì§•

1. ë‹¨ì •(assert) ë©”ì„œë“œë¡œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ìˆ˜í–‰ ê²°ê³¼ë¥¼ íŒë³„í•¨
    - assertEquals(ì˜ˆìƒ ê°’, ì‹¤ì œ ê°’)
2. jUnit4ë¶€í„°ëŠ” í…ŒìŠ¤íŠ¸ ì§€ì›í•˜ëŠ” ì• ë…¸í…Œì´ì…˜ ì œê³µ
    - @Test
3. ê° @Test ë©”ì„œë“œê°€ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸ê°€ ì´ë£¨ì–´ì§

> ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

    jUnit ë²„ì „ 4.12ì´ìƒ ë²„ì „ì„ pom.xmlì— ì¶”ê°€

### jUnit ì• ë„ˆí…Œì´ì…˜

> @Test

-   @Testê°€ ì„ ì–¸ëœ ë©”ì„œë“œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œê°€ ë¨
-   jUnitì€ ê°ê°ì˜ í…ŒìŠ¤íŠ¸ê°€ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë¨
    -   @Testë§ˆë‹¤ ê°ì²´ë¥¼ ìƒì„±í•¨

> @RunWith(SpringJUnit4ClassRunner.class)

-   jUnit í”„ë ˆì„ì›Œí¬ì˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë°©ë²•ì„ í™•ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì• ë…¸í…Œì´ì…˜
-   SpringJUnit4ClassRunnerë¼ëŠ” í´ë˜ìŠ¤ ì§€ì •
    -   jUnit í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ì¤‘ì— ApplicationContextë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•´ ì¤Œ

> @ContextConfiguration

-   ìŠ¤í”„ë§ ë¹ˆ(Bean) ì„¤ì • íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì§€ì •í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì• ë…¸í…Œì´ì…˜

> @Autowired

-   ìŠ¤í”„ë§ DIì—ì„œ ì‚¬ìš©ë˜ëŠ” íŠ¹ë³„í•œ ì• ë…¸í…Œì´ì…˜
-   í•´ë‹¹ ë³€ìˆ˜ì— ìë™ìœ¼ë¡œ ë¹ˆ(Bean)ì„ ë§¤í•‘í•´ ì¤Œ

í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ”(assert) ë©”ì„œë“œ

> `assertEquals(a, b)`

-   ê°ì²´ a, bê°€ ì¼ì¹˜í•¨ì„ í™•ì¸

> `assertArrayEquals(a, b)`

-   ë°°ì—´ a, bê°€ ì¼ì¹˜í•¨ì„ í™•ì¸

> `assertTrue(a)`

-   ì¡°ê±´ aê°€ ì°¸ì¸ê°€ë¥¼ í™•ì¸í•¨

> `assertNotNull(a)`

-   ê°ì²´ aê°€ nullì´ ì•„ë‹˜ì„ í™•ì¸í•¨

### í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ

<details>
<summary>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ</summary>

> TDD Web Project

> DmlTest.java

```java
package kr.co.typhoon;

import java.util.Date;
import java.util.Objects;

public class User {

	private String id;
	private String pwd;
	private String name;
	private String email;
	private Date birth;
	private String sns;
	private Date reg_date;



	public User() {

	}

	@Override
	public String toString() {
		return "User [id=" + id + ", pwd=" + pwd + ", name=" + name + ", email=" + email + ", birth=" + birth + ", sns="
				+ sns + ", reg_date=" + reg_date + "]";
	}

	@Override
	public int hashCode() {

		return Objects.hash(pwd, email, id, name);
	}


	public String getId() {
		return id;
	}
	public void setId(String id) {
		this.id = id;
	}
	public String getPwd() {
		return pwd;
	}
	public void setPwd(String pwd) {
		this.pwd = pwd;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getEmail() {
		return email;
	}
	public void setEmail(String email) {
		this.email = email;
	}
	public Date getBirth() {
		return birth;
	}
	public void setBitrh(Date birth) {
		this.birth = birth;
	}
	public String getSns() {
		return sns;
	}
	public void setSns(String sns) {
		this.sns = sns;
	}
	public Date getReg_date() {
		return reg_date;
	}
	public void setReg_date(Date reg_date) {
		this.reg_date = reg_date;
	}
	public User(String id, String pwd, String name, String email, Date birth, String sns, Date reg_date) {

		this.id = id;
		this.pwd = pwd;
		this.name = name;
		this.email = email;
		this.birth = birth;
		this.sns = sns;
		this.reg_date = reg_date;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		User other = (User) obj;
		if (birth == null) {
			if (other.birth != null)
				return false;
		} else if (!birth.equals(other.birth))
			return false;
		if (email == null) {
			if (other.email != null)
				return false;
		} else if (!email.equals(other.email))
			return false;
		if (id == null) {
			if (other.id != null)
				return false;
		} else if (!id.equals(other.id))
			return false;
		if (name == null) {
			if (other.name != null)
				return false;
		} else if (!name.equals(other.name))
			return false;
		if (pwd == null) {
			if (other.pwd != null)
				return false;
		} else if (!pwd.equals(other.pwd))
			return false;
		if (sns == null) {
			if (other.sns != null)
				return false;
		} else if (!sns.equals(other.sns))
			return false;
		return true;
	}

}


```

> User.java

```java
package kr.co.typhoon;

import java.util.Date;
import java.util.Objects;

public class User {

	private String id;
	private String pwd;
	private String name;
	private String email;
	private Date birth;
	private String sns;
	private Date reg_date;



	public User() {

	}

	@Override
	public String toString() {
		return "User [id=" + id + ", pwd=" + pwd + ", name=" + name + ", email=" + email + ", birth=" + birth + ", sns="
				+ sns + ", reg_date=" + reg_date + "]";
	}

	@Override
	public int hashCode() {

		return Objects.hash(pwd, email, id, name);
	}


	public String getId() {
		return id;
	}
	public void setId(String id) {
		this.id = id;
	}
	public String getPwd() {
		return pwd;
	}
	public void setPwd(String pwd) {
		this.pwd = pwd;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getEmail() {
		return email;
	}
	public void setEmail(String email) {
		this.email = email;
	}
	public Date getBirth() {
		return birth;
	}
	public void setBitrh(Date birth) {
		this.birth = birth;
	}
	public String getSns() {
		return sns;
	}
	public void setSns(String sns) {
		this.sns = sns;
	}
	public Date getReg_date() {
		return reg_date;
	}
	public void setReg_date(Date reg_date) {
		this.reg_date = reg_date;
	}
	public User(String id, String pwd, String name, String email, Date birth, String sns, Date reg_date) {

		this.id = id;
		this.pwd = pwd;
		this.name = name;
		this.email = email;
		this.birth = birth;
		this.sns = sns;
		this.reg_date = reg_date;
	}

	@Override
	public boolean equals(Object obj) {
		if (this == obj)
			return true;
		if (obj == null)
			return false;
		if (getClass() != obj.getClass())
			return false;
		User other = (User) obj;
		if (birth == null) {
			if (other.birth != null)
				return false;
		} else if (!birth.equals(other.birth))
			return false;
		if (email == null) {
			if (other.email != null)
				return false;
		} else if (!email.equals(other.email))
			return false;
		if (id == null) {
			if (other.id != null)
				return false;
		} else if (!id.equals(other.id))
			return false;
		if (name == null) {
			if (other.name != null)
				return false;
		} else if (!name.equals(other.name))
			return false;
		if (pwd == null) {
			if (other.pwd != null)
				return false;
		} else if (!pwd.equals(other.pwd))
			return false;
		if (sns == null) {
			if (other.sns != null)
				return false;
		} else if (!sns.equals(other.sns))
			return false;
		return true;
	}
}
```

</details>

### DB Connection test ì½”ë“œ

<details>
<summary>DB Connection test ì½”ë“œ</summary>

> DBConnectionTest3.java

```java
package kr.co.liberation;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.GenericXmlApplicationContext;


public class DBConnectionTest3 {

	public static void main(String[] args) throws SQLException {

		ApplicationContext ac = new GenericXmlApplicationContext(
				"file:src/main/webapp/WEB-INF/spring/**/root-context.xml");
		DataSource ds = ac.getBean(DataSource.class);

		Connection conn = ds.getConnection();
		System.out.println("conn = " + conn);
	}
}


```

> DBConnectionTest3Test.java

```java
package kr.co.typhoon;

import static org.junit.Assert.assertTrue;

import java.sql.Connection;
import java.sql.SQLException;

import javax.sql.DataSource;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {"file:src/main/webapp/WEB-INF/spring/**/root-context.xml"})
public class DBConnectionTest3Test {

	@Autowired
	DataSource ds;

	@Test
	public void springJdbcConnectionTest() throws SQLException {

		Connection conn = ds.getConnection();
		System.out.println("conn = " + conn);

		assertTrue(conn != null);

	}

}

```

</details>
