---
draft: false
authors:
    - hyewon
date: 2024-08-13
categories:
    - Spring
---

# 쿠키와 세션

> 쿠키와 세션을 스프링(STS)에서 구현해보기

<!-- more -->

## 🍪 쿠키(Cookie)

1. 이름과 값의 쌍으로 구성된 정보
2. 아스키문자만 가능
3. 서버에서 생성 후 전송
4. 브라우저에 저장
5. 유효기간 이후 자동 삭제

### 📌 쿠키의 작동 과정

1. 클라이언트에서 바로 요청이 가면서 서버에서

    ```java
    Cookie cookie = new Cookie("id","kosta"); // 쿠키 생성
    cookie.setMaxAge(60*60*24); // 유효기간 초단위
    response.addCookie(cookie); // 응답헤더에 쿠키 추가(서버에서 일어나는 일)
    ```

    - 요청 헤더에 쿠키가 따라간다 => 클라이언트 식별 가능

2. 처음에 클라이언트가 서버에 요청하면 서버에서 쿠키가 만들어지고, 만들어진 쿠키가 응답헤더에 담아 보낸다. 클라이언트 쿠키도 함께 가게 된다. 서버가 보내준 쿠키가 브라우저에 저장됨.
3. 클라이언트가 (url주소) 동일한 서버에 재요청하게 되면, 자동으로 브라우저에 저장된 쿠키가 재요청과 함께 전송된다ㅏ. 쿠키는 클라이언트를 구분하기 위한 기술이다.

## 🍑 세션

1. 서로 관련된 요청, 답변들을 하나로 묶은것 - 쿠키를 이용
2. a collection of related HTTP transaction made by one browser to one server
3. browser마다 개별 저장소(session 객체)를 서버에서 제게ㅗㅇ
    1. browser : 서버 = 1 : 1
    2. 같은 PC라도 다른 브라우저라면 다른 세션ID를 가진다.
4. 쿠키: 브라우저에 저장, 세션: 서버에 저장
5. 같은 세션ID를 사용하는 한 같은 세션 저장소를 사용할 수 있는것이다.
6. 로그인 ~ 로그아웃까지 하나의 세션이라고 할 수 있다.

### 📌 세션의 작동 과정
