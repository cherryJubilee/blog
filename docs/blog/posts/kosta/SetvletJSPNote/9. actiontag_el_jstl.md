---
draft: false
authors:
    - hyewon
date: 2024-07-30
categories:
    - Backend
---

# JSP action tag, el, jstl

<!-- more -->

> ê°œìš”

## ğŸ“Œ ì•¡ì…˜ íƒœê·¸ (action tag)

1.  JSP í‘œì¤€ íƒœê·¸
2.  `<jsp:forward>`

    -   í˜„ì¬ í˜ì´ì§€ì— ë“¤ì–´ì˜¨ ìš”ì²­ì„ ë‹¤ìŒ í˜ì´ì§€ë¡œ ë³´ë‚´ëŠ” ê¸°ëŠ¥
    -   í˜„ì¬ í˜ì´ì§€ì—ì„œ ë‹¤ìŒ í˜ì´ì§€ë¡œ ìš”ì²­ì„ í¬ì›Œë”©í•˜ëŠ” ê¸°ëŠ¥

    ```jsp
    <jsp:forward page="nextPage.jsp"/>
    ```

3.  <jsp:param>
    -   ë‹¤ë¥¸ í˜ì´ì§€ì— ê°’ì„ ì „ë‹¬í•´ì£¼ëŠ” ì•¡ì…˜ íƒœê·¸
    -   nextPage.jspë¡œ ìš”ì²­ì„ í¬ì›Œë”©í•˜ë©´ì„œ username íŒŒë¼ë¯¸í„°ì— JohnDoe ê°’ ì „ë‹¬
    ```jsp
    <jsp:forward page="nextPage.jsp">
        <jsp:param name="username" value="JohnDoe"/>
    </jsp:forward>
    ```

## ğŸ“Œ í‘œí˜„ ì–¸ì–´ (Expression Language, EL)

1.  ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´
2.  ì‚¬ìš©ë²•

    -   ${ ì†ì„± }
    -   ${username}
    -   ì˜ì—­ì— ì €ì¥ëœ ì†ì„±ê°’ ì¶œë ¥

3.  ë‚´ì¥ ê°ì²´
    -   4ê°€ì§€ ì˜ì—­ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ë‚´ì¥ ê°ì²´
        -   `pageScope`
            -   pageContext ë‚´ì¥ ê°ì²´ì™€ ê°™ì´ page ì˜ì—­ì— ì €ì¥ëœ ì†ì„±ê°’ì„ ì½ì–´ì˜´
        -   `requestScope`
            -   request ë‚´ì¥ ê°ì²´ì™€ ê°™ì´ request ì˜ì—­ì— ì €ì¥ëœ ì†ì„±ê°’ì„ ì½ì–´ì˜´
        -   `sessionScope`
            -   session ë‚´ì¥ ê°ì²´ì™€ ê°™ì´ session ì˜ì—­ì— ì €ì¥ëœ ì†ì„±ê°’ì„ ì½ì–´ì˜´
        -   `applicationScope`
            -   application ë‚´ì¥ ê°ì²´ì™€ ê°™ì´ application ì˜ì—­ì— ì €ì¥ëœ ì†ì„±ê°’ì„ ì½ì–´ì˜´
4.  form ê°’ ì²˜ë¦¬

    ```jsp
    <p>Parameter: ${param.paramName}</p>
    <p>Parameter Values: ${paramValues.paramName[0]}</p>
    ```

    -   `param`
        -   ë‹¨ì¼ ë§¤ê°œë³€ìˆ˜ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
        -   request.getParameter("ë§¤ê°œë³€ìˆ˜ëª…")
    -   `paramValues`
        -   ë§¤ê°œë³€ìˆ˜ì˜ ì—¬ëŸ¬ ê°’ì„ ë°°ì—´ë¡œ ê°€ì ¸ì˜¨ë‹¤.
        -   request.getParameterValues("ë§¤ê°œë³€ìˆ˜ëª…")

5.  ê°ì²´ ì „ë‹¬

    -   ê°ì²´ë¥¼ ì˜ì—­ì— ì €ì¥í•œ í›„, ë‚´ì¥ ê°ì²´ì˜ ì˜ì—­ì´ ê³µìœ ë¨

    ```jsp
    <% request.setAttribute("user", new User("John", 25)); %>
    <p>User Name: ${requestScope.user.name}</p>
    <p>User Age: ${requestScope.user.age}</p>
    ```

6.  ê¸°íƒ€ ë‚´ì¥ ê°ì²´

    -   cookie, header, headerValues, initParam, pageContext

    ```jsp
    <p>Cookie: ${cookie.cookieName.value}</p>
    <p>Header: ${header.headerName}</p>
    <p>Init Param: ${initParam.paramName}</p>
    ```

7.  collection

    ![alt text](img/image.png)

    <details>
    <summary>colleciton ì˜ˆì œ  HelloJSP5-EL5</summary>

    ```java
    package kr.co.kosta.el;

    public class PersonDTO {
        private String name;
        private int age;

        public PersonDTO() {
            //super();
        }

        public PersonDTO(String name, int age) {
            //super();
            this.name = name;
            this.age = age;
        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public int getAge() {
            return age;
        }

        public void setAge(int age) {
            this.age = age;
        }
    }

    ```

    ```jsp
    <%@page import="java.util.HashMap"%>
    <%@page import="javax.print.attribute.HashAttributeSet"%>
    <%@page import="java.util.logging.Handler"%>
    <%@page import="java.util.Map"%>
    <%@page import="kr.co.kosta.el.PersonDTO"%>
    <%@page import="java.util.List"%>
    <%@page import="java.util.ArrayList"%>
    <%@page import="kr.co.kosta.util.CookieManager"%>
    <%@ page language="java" contentType="text/html; charset=UTF-8"
        pageEncoding="UTF-8"%>
    <%
    List<Object> list = new ArrayList<>();
    list.add("í™ê¸¸ë™");
    list.add(new PersonDTO("ì´ë°©ì›", 70));

    pageContext.setAttribute("person", list);

    Map<String, String> map = new HashMap<>();
    map.put("ì„¸ì¢…", "í›ˆë¯¼ì •ìŒ");
    map.put("íƒœì¢…", "ì™•ê¶Œ");
    map.put("moon", "êµ­ë°© ê°•í™”");
    pageContext.setAttribute("king", map);
    %>
    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    </head>
    <body>

        <ul>
            <li>0ë²ˆì§¸ ìš”ì†Œ: ${person[0]}</li>
            <li>1ë²ˆì§¸ ìš”ì†Œ: ${person[1].name}, ${person[1].age}</li>
        </ul>

        <ul>
            <li>0ë²ˆì§¸ ìš”ì†Œ: ${king["ì„¸ì¢…"]}, ${king['íƒœì¢…']}, ${king.moon}</li>
            <li>1ë²ˆì§¸ ìš”ì†Œ: ${king["ì„¸ì¢…"]}, ${king['íƒœì¢…']}, ${king.moon}</li>
        </ul>

    </body>
    </html>

    ```

    </details>

8.  ELì—°ì‚°ìë“¤

-   ì‚°ìˆ˜, ë¹„êµ, ë…¼ë¦¬ì—°ì‚°ì

<details>
<summary></summary>
```java
```

```jsp

```

</details>

## ğŸ“Œ JSTL

1. JSP Standard Tag Library
2. ì½”ì–´íƒœê·¸

    - set, remove
    - if
    - choose, when, otherwise
    - forEach, forTokens
    - import, redirect, url
    - catch

3. êµ­ì œí™” íƒœê·¸

    - ìˆ«ì
    - ë‚ ì§œ, íƒ€ì„ì¡´
    - ë¡œì¼€ì¼

4. JSTL ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„ ì–¸

    - `<%@ taglib prefix="c" uri="jakarta.tags.core" %>`
    - jar ë‹¤ìš´ë¡œë“œ í›„ libì•„ë˜ ë„£ê¸°
        - https://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api/3.0.0
        - https://mvnrepository.com/artifact/org.glassfish.web/jakarta.servlet.jsp.jstl/3.0.1
          ![alt text](img/image16.png)

## ğŸ“Œ JSTL - CORE íƒœê·¸

1. `<c:set>`

    - setAttribute() ë©”ì„œë“œì™€ ë™ì¼ ê¸°ëŠ¥
    - ë³€ìˆ˜ ìƒì„± í˜•ì‹

    ```jsp
      <c:set var="ë³€ìˆ˜ëª…" value="ê°’" scope="ì˜ì—­" />
    ```

    - ë³€ìˆ˜ë‚˜ ìë°” ë¹ˆì¦ˆë‚˜ ì»¬ë™ì…˜ ìƒì„±í•  ë•Œ ì‚¬ìš©
        - ì†ì„±
            - `target`: ìë°”ë¹ˆì¦ˆ ìƒì„±
            - `property` : ë©¤ë²„ë³€ìˆ˜ ê°’ ì§€ì •

2. `<c:remove>`

    - <c:set> íƒœê·¸ë¡œ ì„¤ì •í•œ ë³€ìˆ˜ë¥¼ ì œê±°í•  ë•Œ ì‚¬ìš©
    - removeAttribute() ë©”ì„œë“œì™€ ê°™ì€ ì—­í• 
    - ì˜ì—­ ì§€ì •í•˜ì§€ ì•Šì„ ê²½ìš° ë™ì¼í•œ ì´ë¦„ì˜ ë³€ìˆ˜ê°€ ìˆë‹¤ë©´ í•œêº¼ë²ˆì— ì‚­ì œí•¨
        - ì˜ì—­ ì§€ì •í•œ í›„ ì‚­ì œí•´ì•¼ ì•ˆì „

3. `<c:if>`
    - ìë°”ì˜ ifì™€ ë™ì¼
    - elseê°€ ì—†ìŒ
    - ì†ì„±
        - var, scope
        - test
            - ifë¬¸ì—ì„œ ì‚¬ìš©í•  ì¡°ê±´ ì§€ì •
            - ê°’ìœ¼ë¡œ ELì´ ì•„ë‹Œ ì¼ë°˜ ê°’ì´ ì˜¤ë©´ ë¬´ì¡°ê±´ false ë°˜í™˜

### ğŸ€ JSTL ì˜ˆì œ

-   scopeì— requestë¥¼ ì ìš©í•´ì•¼ elíƒœê·¸ ë‚´ì—ì„œ requestScope. ì‚¬ìš©í•˜ì—¬ ë³€ìˆ˜ì— ì ‘ê·¼ ê°€ëŠ¥
    -   `scope="request" => ${requestScope.psersonVar.name}`

<details>
<summary>JSTL c:set ì˜ˆì œ</summary>
```java
```

```jsp
<%@page import="kr.co.kosta.el.PersonDTO"%>
<%@page import="java.util.Date"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<c:set var="directVar" value = "100" />
	<c:set var="elVar" value = "${ directVar mod 5 } " />
	<c:set var="datavar" value="<%= new Date() %>" />
	<ul>
		<li>${pageScope.directVar}</li>
		<li>${elVar}</li>
		<li>${datavar}</li>
	</ul>

	<!-- ìë°” ë¹ˆì¦ˆ ìƒì„± : scope ì‚¬ìš© -->
	<c:set var="psersonVar" value= '<%= new PersonDTO("ì´ì„±ê³„", 50) %>' scope="request"/>
	<ul>
		<li>ì´ë¦„: ${requestScope.psersonVar.name}</li>
	</ul>

    <!-- ìë°” ë¹ˆì¦ˆ ìƒì„±2 : property ì‚¬ìš© -->
	<c:set var="psersonVar2" value= "<%= new PersonDTO() %>" scope="request"/>
	<c:set target="${psersonVar2}" property="name" value="í•˜ë¥œ" />
	<c:set target="${psersonVar2}" property="age" value="60" />
	<ul>
		<li>ì´ë¦„: ${psersonVar2.name}</li>
		<li>ì´ë¦„: ${psersonVar2.age}</li>
	</ul>

</body>
</html>
```

</details>

![alt text](img/image14.png)

-   ìœ„ ì˜ˆì œì™€ ê±°ì˜ ë™ì¼í•˜ë©° list ì‚¬ìš©

<details>
<summary>JSTL c:set ì˜ˆì œ2 (collection list ì‚¬ìš©)</summary>

```jsp
<%@page import="kr.co.kosta.el.PersonDTO"%>
<%@page import="java.util.ArrayList"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core"%>
<%
ArrayList<PersonDTO> list = new ArrayList<>();
list.add(new PersonDTO("ê¹€ê¹€", 50));
list.add(new PersonDTO("ë°•ë°•", 60));
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<c:set var="personlist" value="<%= list %>" scope="request" />
<ul>
<li>ì´ë¦„ :  ${requestScope.personlist[0].name}</li>
<li>ë‚˜ì´ :  ${requestScope.personlist[0].age}</li>
<li>ì´ë¦„ :  ${personlist[1].name}</li>
<li>ë‚˜ì´ :  ${personlist[1].age}</li>
</ul>

</body>
</html>
```

</details>

![alt text](img/image15.png)

<details>
<summary>JSTL c:remove ì˜ˆì œ</summary>

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core"%>

<c:set var="scoreVar" value="ë³€ìˆ˜ê°’ì´ Page ì˜ì—­ì— ì €ì¥ë¨" scope="page"/>
<c:set var="scoreVar" value="ë³€ìˆ˜ê°’ì´ Request ì˜ì—­ì— ì €ì¥ë¨" scope="request"/>
<c:set var="scoreVar" value="ë³€ìˆ˜ê°’ì´ Session ì˜ì—­ì— ì €ì¥ë¨" scope="session"/>
<c:set var="scoreVar" value="ë³€ìˆ˜ê°’ì´ Application ì˜ì—­ì— ì €ì¥ë¨" scope="application"/>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<ul>
		<li>${scoreVar}</li>
		<li>${requestScope.scoreVar}</li>
		<li>${sessionScope.scoreVar}</li>
		<li>${applicationScope.scoreVar}</li>
	</ul>

	<br />
	<c:remove var="scoreVar" scope="session"/>
	<ul>
		<li>${scoreVar}</li>
		<li>${requestScope.scoreVar}</li>
		<li>${sessionScope.scoreVar}</li>
		<li>${applicationScope.scoreVar}</li>
	</ul>
</body>
</html>
```

</details>

![alt text](img/image17.png)

<details>
<summary>JSTL c:if ì˜ˆì œ</summary>

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<c:set var="number" value="100"/>
	<c:set var="string" value="jspì…ë‹ˆë‹¤."/>

	<c:if test="${number mod 2 eq 0 }" var="result">
	${number}ëŠ” ì§ìˆ˜ì´ë‹¤.
	</c:if>
	<br />
	${result }	<br /><br />


	<c:if test="100" var="result2">
	test ì†ì„±ê°’ìœ¼ë¡œ ELì´ ì•„ë‹Œ ì •ìˆ˜ë¥¼ ì§€ì •í•¨
	</c:if>
	${result2 } <br /><br />

	<c:if test="true" var="result3">
	test ì†ì„±ê°’ìœ¼ë¡œ ì¼ë°˜ ê°’ìœ¼ë¡œ true ì‚¬ìš© í•˜ë©´ true (ì˜ˆì™¸ì ì¸ ê²½ìš°)
	</c:if>
	${result3 } <br /><br />

	<c:if test="TRUE" var="result4">
	test ì†ì„±ê°’ìœ¼ë¡œ ì¼ë°˜ ê°’ìœ¼ë¡œ true ì‚¬ìš© í•˜ë©´ true (ì˜ˆì™¸ì ì¸ ê²½ìš°)
	</c:if>
	${result4 } <br /><br />


</body>
</html>
```

</details>

![alt text](img/image18.png)
